(function(){var t,i=function(t,i){return function(){return t.apply(i,arguments)}},e={}.hasOwnProperty,r=function(t,i){function r(){this.constructor=t}for(var s in i)e.call(i,s)&&(t[s]=i[s]);return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t};t=function(t){function e(){this.finish=i(this.finish,this),this.playSound=i(this.playSound,this),this.nextEvaluation=i(this.nextEvaluation,this),this.finishEvaluation=i(this.finishEvaluation,this),this.evaluateAnswer=i(this.evaluateAnswer,this),this.evaluateDrop=i(this.evaluateDrop,this),this.initEvaluation=i(this.initEvaluation,this);var t,r;t=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"btnfinished",src:"btn_finished.png"},{id:"btnrepeat",src:"btn_repeat.png"},{id:"dragble2",src:"dragble_bella.png"},{id:"dragble3",src:"dragble_benny.png"},{id:"dragble1",src:"dragble_hana.png"},{id:"dragble8",src:"dragble_julia.png"},{id:"dragble7",src:"dragble_oliver.png"},{id:"dragble4",src:"dragble_phillip.png"},{id:"dragble5",src:"dragble_renee.png"},{id:"dragble6",src:"dragble_stuart.png"},{id:"image6",src:"image_bella.png"},{id:"image4",src:"image_benny.png"},{id:"image5",src:"image_hana.png"},{id:"image2",src:"image_julia.png"},{id:"image1",src:"image_oliver.png"},{id:"image3",src:"image_phillip.png"},{id:"image8",src:"image_renee.png"},{id:"image7",src:"image_start.png"},{id:"correct",src:"correct.png"},{id:"incorrect",src:"wrong.png"}],r=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U8_A4_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U8_A4_bella.mp3",id:"sbella"},{src:"sounds/TU2_U8_A4_benny.mp3",id:"sbenny"},{src:"sounds/TU2_U8_A4_hana.mp3",id:"shana"},{src:"sounds/TU2_U8_A4_julia.mp3",id:"sjulia"},{src:"sounds/TU2_U8_A4_oliver.mp3",id:"soliver"},{src:"sounds/TU2_U8_A4_phillip.mp3",id:"sphillip"},{src:"sounds/TU2_U8_A4_renee.mp3",id:"srenee"},{src:"sounds/TU2_U8_A4_stuart.mp3",id:"sstuart"}],this.game={steps:[{sound:"sbella",drp:2,tgt:6},{sound:"sbenny",drp:3,tgt:4},{sound:"shana",drp:1,tgt:5},{sound:"sjulia",drp:8,tgt:2},{sound:"soliver",drp:7,tgt:1},{sound:"sphillip",drp:4,tgt:3},{sound:"srenee",drp:5,tgt:8},{sound:"sstuart",drp:6,tgt:7}]},e.__super__.constructor.call(this,null,t,r)}return r(e,t),e.prototype.setStage=function(){return e.__super__.setStage.apply(this,arguments),this.steps=this.shuffle(this.game.steps),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Listen and drag the name to the corresponding person.",80,200),this.insertBitmap("finish","btnfinished",774,1082),this.insertBitmap("repeat","btnrepeat",528,1082),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,8,0)),this.setKids().introEvaluation()},e.prototype.setKids=function(){var t,i,e,r,s,a;for(i=new createjs.Container,i.x=180,i.y=300,i.name="caras",this.targets=new Array,r=s=1;8>=s;r=++s)t=5>r?this.createBitmap("image"+r,"image"+r,290*r-290,0):this.createBitmap("image"+r,"image"+r,290*r-1450,380),this.targets.push(t),this.addToLibrary(t),i.addChild(t);for(r=a=1;8>=a;r=a+=1)e=new Droppable("dragble"+r,this.preload.getResult("dragble"+r),r,1260,74*r,this.stage),this.setReg(e,e.width/2,e.height/2),this.addToLibrary(e),i.addChild(e);return this.addToMain(i),this},e.prototype.introEvaluation=function(){return e.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.finish,1,{alpha:0,y:this.library.finish.y+20,delay:.7}),TweenLite.from(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+20,delay:.7}),TweenLite.from(this.library.caras,1,{alpha:0,y:this.library.caras.y+40,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},e.prototype.initEvaluation=function(){var t,i,r;for(e.__super__.initEvaluation.apply(this,arguments),createjs.Sound.play(this.steps[this.index].sound),this.library.repeat.addEventListener("click",this.playSound),this.library.finish.addEventListener("click",this.evaluateAnswer),r=[],t=i=1;8>=i;t=i+=1)this.library["dragble"+t].updateDrops(this.targets),this.library["dragble"+t].addEventListener("dropped",this.evaluateDrop),r.push(this.library["dragble"+t].initDragListener());return r},e.prototype.evaluateDrop=function(t){return this.answer=t.target,this.drop=t.drop,this.answer.putInPlace({x:this.drop.x+130,y:this.drop.y+300}),setTimeout(this.finishEvaluation,1e3)},e.prototype.evaluateAnswer=function(){var t,i,e,r;for(this.library.repeat.removeEventListener("click",this.playSound),this.library.finish.removeEventListener("click",this.evaluateAnswer),t=r=1;8>=r;t=r+=1)e=this.steps[t-1],i=this.createSprite("resultado",["incorrect","correct"],null,this.library["image"+e.tgt].x,this.library["image"+e.tgt].y),this.library["dragble"+e.drp].x===this.library["image"+e.tgt].x+130?(this.library.score.plusOne(),i.gotoAndStop(1)):i.gotoAndStop(0),this.library.caras.addChild(i);return setTimeout(this.finish,2e3)},e.prototype.finishEvaluation=function(){return this.nextEvaluation()},e.prototype.nextEvaluation=function(){return this.index++,this.index<this.steps.length?createjs.Sound.play(this.steps[this.index].sound):void 0},e.prototype.playSound=function(){return createjs.Sound.stop(),createjs.Sound.play(this.steps[this.index].sound)},e.prototype.finish=function(){return TweenLite.to(this.library.finish,1,{alpha:0,y:this.library.finish.y+20}),TweenLite.to(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+20}),TweenLite.to(this.library.caras,1,{alpha:0,y:this.library.caras.y+40}),e.__super__.finish.apply(this,arguments)},window.U8A4=e,e}(Oda)}).call(this);