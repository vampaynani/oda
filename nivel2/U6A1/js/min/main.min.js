(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,p=function(e,t){function p(){this.constructor=e}for(var s in t)i.call(t,s)&&(e[s]=t[s]);return p.prototype=t.prototype,e.prototype=new p,e.__super__=t.prototype,e};e=function(e){function i(){this.nextEvaluation=t(this.nextEvaluation,this),this.finishEvaluation=t(this.finishEvaluation,this),this.evaluateLocation=t(this.evaluateLocation,this),this.evaluateAnswer=t(this.evaluateAnswer,this),this.initDrag=t(this.initDrag,this),this.selectPuzzle=t(this.selectPuzzle,this),this.initEvaluation=t(this.initEvaluation,this);var e,p;e=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"p1",src:"p1-btn.png"},{id:"p2",src:"p2-btn.png"},{id:"m1",src:"marco-1.png"},{id:"m2",src:"marco-2.png"},{id:"p1p1",src:"puzzle1-1.png"},{id:"p1p1back",src:"puzzle1-1-back.png"},{id:"p1p2",src:"puzzle1-2.png"},{id:"p1p2back",src:"puzzle1-2-back.png"},{id:"p1p3",src:"puzzle1-3.png"},{id:"p1p3back",src:"puzzle1-3-back.png"},{id:"p1p4",src:"puzzle1-4.png"},{id:"p1p4back",src:"puzzle1-4-back.png"},{id:"p1p5",src:"puzzle1-5.png"},{id:"p1p5back",src:"puzzle1-5-back.png"},{id:"p1p6",src:"puzzle1-6.png"},{id:"p1p6back",src:"puzzle1-6-back.png"},{id:"p1p7",src:"puzzle1-7.png"},{id:"p1p7back",src:"puzzle1-7-back.png"},{id:"p1p8",src:"puzzle1-8.png"},{id:"p1p8back",src:"puzzle1-8-back.png"},{id:"p1p9",src:"puzzle1-9.png"},{id:"p1p9back",src:"puzzle1-9-back.png"},{id:"p1p10",src:"puzzle1-10.png"},{id:"p1p10back",src:"puzzle1-10-back.png"},{id:"p1p11",src:"puzzle1-11.png"},{id:"p1p11back",src:"puzzle1-11-back.png"},{id:"p1p12",src:"puzzle1-12.png"},{id:"p1p12back",src:"puzzle1-12-back.png"},{id:"p2p1",src:"puzzle2-1.png"},{id:"p2p1back",src:"puzzle2-1-back.png"},{id:"p2p2",src:"puzzle2-2.png"},{id:"p2p2back",src:"puzzle2-2-back.png"},{id:"p2p3",src:"puzzle2-3.png"},{id:"p2p3back",src:"puzzle2-3-back.png"},{id:"p2p4",src:"puzzle2-4.png"},{id:"p2p4back",src:"puzzle2-4-back.png"},{id:"p2p5",src:"puzzle2-5.png"},{id:"p2p5back",src:"puzzle2-5-back.png"},{id:"p2p6",src:"puzzle2-6.png"},{id:"p2p6back",src:"puzzle2-6-back.png"},{id:"p2p7",src:"puzzle2-7.png"},{id:"p2p7back",src:"puzzle2-7-back.png"},{id:"p2p8",src:"puzzle2-8.png"},{id:"p2p8back",src:"puzzle2-8-back.png"},{id:"p2p9",src:"puzzle2-9.png"},{id:"p2p9back",src:"puzzle2-9-back.png"},{id:"p2p10",src:"puzzle2-10.png"},{id:"p2p10back",src:"puzzle2-10-back.png"},{id:"p2p11",src:"puzzle2-11.png"},{id:"p2p11back",src:"puzzle2-11-back.png"},{id:"p2p12",src:"puzzle2-12.png"},{id:"p2p12back",src:"puzzle2-12-back.png"},{id:"btnfalse",src:"false-btn.png"},{id:"btntrue",src:"true-btn.png"}],p=[{src:"sounds/TU2_U6_A1_instructions.mp3",id:"instructions"},{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/bell_cow_3.mp3",id:"bell"}],i.__super__.constructor.call(this,null,e,p)}return p(i,e),i.prototype.setStage=function(){return i.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Drag the puzzle pieces, read and click on the correct answers.",80,200),this.insertBitmap("p1","p1",1462,966),this.insertBitmap("p2","p2",1462,1060),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,8,0)),this.introEvaluation()},i.prototype.introEvaluation=function(){return i.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.from([this.library.p1,this.library.p2,this.library.p3],1,{alpha:0,y:stageSize.h,delay:1})},i.prototype.initEvaluation=function(){var e,t,p;for(i.__super__.initEvaluation.apply(this,arguments),p=[],e=t=1;2>=t;e=t+=1)this.blink(this.library["p"+e]),p.push(this.library["p"+e].addEventListener("click",this.selectPuzzle));return p},i.prototype.selectPuzzle=function(e){var t,i;for(t=i=1;2>=i;t=i+=1)this.blink(this.library["p"+t],!1),this.library["p"+t].removeEventListener("click",this.selectPuzzle);switch(this.insertBitmap("btntrue","btntrue",600,1080),this.insertBitmap("btnfalse","btnfalse",840,1080),e.target.name){case"p1":this.pieces={p1p1:{x:310,y:163,text:"A firefighter put out fires.",label:"true",back:!0},p1p2:{x:495,y:160},p1p3:{x:641,y:163,text:"A nurse helps sick people.",label:"true",back:!0},p1p4:{x:823,y:163},p1p5:{x:307,y:330,text:"A mail carrier works at he post office.",label:"true",back:!0},p1p6:{x:493,y:330,text:"A bus driver works in an office.",label:"false",back:!0},p1p7:{x:637,y:330,text:"A waitress works at a grocery store.",label:"false",back:!0},p1p8:{x:814,y:333,text:"A salesclerk works at a bank.",label:"false",back:!0},p1p9:{x:305,y:515},p1p10:{x:458,y:513,text:"A librarian sells books.",label:"false",back:!0},p1p11:{x:678,y:513},p1p12:{x:810,y:511,text:"A chef serves food.",label:"false",back:!0}},this.answers=8,this.setPuzzle(1);break;case"p2":this.pieces={p2p1:{x:300,y:160,text:"A doctor works at a bank.",label:"false",back:!0},p2p2:{x:490,y:160},p2p3:{x:636,y:160,text:"A teacher works at a library.",label:"false",back:!0},p2p4:{x:828,y:160},p2p5:{x:300,y:330,text:"A mechanic fixes cars.",label:"true",back:!0},p2p6:{x:490,y:330,text:"A police officer puts out fires.",label:"false",back:!0},p2p7:{x:632,y:330,text:"A farmer fixes cars.",label:"false",back:!0},p2p8:{x:816,y:330,text:"A waitress works at a restaurant.",label:"true",back:!0},p2p9:{x:300,y:520},p2p10:{x:456,y:520,text:"A vet helps sick animals.",label:"true",back:!0},p2p11:{x:672,y:515},p2p12:{x:816,y:520,text:"A salesclerk works at a museum.",label:"false",back:!0}},this.answers=8,this.setPuzzle(2)}return TweenLite.from(this.library.btntrue,1,{alpha:0,y:this.library.btntrue.y-40}),TweenLite.from(this.library.btnfalse,1,{alpha:0,y:this.library.btnfalse.y-40,delay:.2})},i.prototype.setPuzzle=function(e){var t,i,p,s,a,r,n,l,c;for(this.num=e,n=new createjs.Container,n.x=150,n.y=290,n.name="puzzle",a=this.createBitmap("m"+e,"m"+e,290,150),n.addChild(a),p=l=1;12>=l;p=l+=1)r=this.pieces["p"+e+"p"+p].back?this.createBitmap("p"+e+"p"+p+"b","p"+e+"p"+p+"back",this.pieces["p"+e+"p"+p].x,this.pieces["p"+e+"p"+p].y):this.createBitmap("p"+e+"p"+p,"p"+e+"p"+p,this.pieces["p"+e+"p"+p].x,this.pieces["p"+e+"p"+p].y),this.addToLibrary(r),n.addChild(r);for(i=new createjs.Container,i.x=stageSize.w/2,i.y=270,i.name="dragpieces",s=0,p=c=1;12>=c;p=c+=1)this.pieces["p"+e+"p"+p].back&&(t=new Draggable("dp"+e+"p"+p,this.preload.getResult("p"+e+"p"+p),"p"+e+"p"+p,176*s,0),t.addEventListener("drop",this.evaluateAnswer),this.observer.subscribe("init_drag",t.onInitEvaluation),this.observer.subscribe("stop_drag",t.onStopEvaluation),t.scaleX=t.scaleY=.6,s++,this.addToLibrary(t),i.addChild(t));return i.width=176*s,this.setReg(i,i.width/2,0),this.addToMain(n),this.addToMain(i),TweenLite.from(n,1,{alpha:0,y:n.y-40,delay:.6}),TweenLite.from(i,1,{alpha:0,y:n.y-40,delay:.6,onComplete:this.initDrag})},i.prototype.initDrag=function(){return this.observer.notify("init_drag")},i.prototype.initListeners=function(){return this.library.btntrue.addEventListener("click",this.evaluateLocation),this.library.btnfalse.addEventListener("click",this.evaluateLocation)},i.prototype.stopListeners=function(){return this.library.btntrue.removeEventListener("click",this.evaluateLocation),this.library.btnfalse.removeEventListener("click",this.evaluateLocation)},i.prototype.evaluateAnswer=function(e){var t,i,p,s;return this.answer=e.target,t=this.library[this.answer.index+"b"],s=t.globalToLocal(this.stage.mouseX,this.stage.mouseY),t.hitTest(s.x,s.y)?(i=t.parent.localToGlobal(t.x,t.y),p=this.answer.parent.globalToLocal(i.x,i.y),this.insertText("dropper",this.pieces[this.answer.index].text,"48px Quicksand","#333",stageSize.w/2,1020,"center"),createjs.Sound.play("bell"),this.observer.notify("stop_drag"),this.answer.putInPlace(p),this.initListeners()):this.answer.returnToPlace(this.answer.alpha,this.answer.scaleX,this.answer.scaleY)},i.prototype.evaluateLocation=function(e){var t;return t=e.target.name,t==="btn"+this.pieces[this.answer.index].label?(this.stopListeners(),createjs.Sound.play("good"),this.library.score.plusOne(),setTimeout(this.finishEvaluation,1e3)):(this.warning(),setTimeout(this.finishEvaluation,1e3))},i.prototype.finishEvaluation=function(){return TweenLite.to(this.library.dropper,.5,{alpha:0,y:stageSize.h,ease:Quart.easeOut,onComplete:this.nextEvaluation})},i.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers?this.initDrag():this.finish()},i.prototype.blink=function(e,t){return null==t&&(t=!0),TweenMax.killTweensOf(e),e.alpha=1,t?TweenMax.to(e,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},i.prototype.finish=function(){return TweenLite.to(this.library.dragpieces,1,{alpha:0,y:this.y-40}),TweenLite.to(this.library.puzzle,1,{alpha:0,y:this.y-40}),TweenMax.to([this.library.p1,this.library.p2,this.library.btntrue,this.library.btnfalse],1,{alpha:0,y:stageSize.h}),i.__super__.finish.apply(this,arguments)},window.U6A1=i,i}(Oda)}).call(this);