(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};t=function(t){function i(){this.nextEvaluation=e(this.nextEvaluation,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.initEvaluation=e(this.initEvaluation,this);var t,r;t=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"n1",src:"nube1.png"},{id:"n2",src:"nube2.png"},{id:"n3",src:"nube3.png"},{id:"n4",src:"nube4.png"},{id:"casa",src:"casita.png"}],r=[{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U2_A1_instructions.mp3",id:"instructions"},{src:"sounds/wrong.mp3",id:"wrong"}],this.answers=[{id:2,text:"a cake on the dining room table."},{id:0,text:"a cake in the kitchen table."},{id:0,text:"a dresser in the bedroom."},{id:3,text:"two bedrooms."},{id:2,text:"a clock in the bedroom."},{id:1,text:"six windows."},{id:1,text:"some books."},{id:1,text:"three people in the house."},{id:0,text:"a fridge."},{id:3,text:"two dresses in the closet."},{id:0,text:"a lamp in the hallway."},{id:2,text:"a cell phone on the dresser."}],i.__super__.constructor.call(this,null,t,r)}return r(i,t),i.prototype.setStage=function(){return i.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Read, look and drag the phrases to complete the sentences.",60,200),this.insertBitmap("casa","casa",168,274),this.intento=0,this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,12,0)),this.setDropper().setClouds().introEvaluation()},i.prototype.setDropper=function(){return this.addToMain(new WordCompleter("dropper","","","#FFF","#E90E2C",300,1050,350,60)),this},i.prototype.setClouds=function(){var t,e,i,r,n,a,s,o,h,l,p,u;return n=new createjs.Container,n.x=1322,n.y=260,n.name="nube1",a=new createjs.Container,a.x=1308,a.y=446,a.name="nube2",s=new createjs.Container,s.x=1300,s.y=654,s.name="nube3",o=new createjs.Container,o.x=1290,o.y=850,o.name="nube4",t=this.createBitmap("n1","n1",0,0),e=this.createBitmap("n2","n2",0,0),i=this.createBitmap("n3","n3",0,0),r=this.createBitmap("n4","n4",0,0),h=new DraggableText("tn0","There is",0,28,42),l=new DraggableText("tn1","There are",1,15,50),p=new DraggableText("tn2","There isn't",2,30,40),u=new DraggableText("tn3","There aren't",3,26,50),n.addChild(t,h),a.addChild(e,l),s.addChild(i,p),o.addChild(r,u),this.addToLibrary(h,l,p,u),this.addToMain(n,a,s,o),this},i.prototype.introEvaluation=function(){var t,e;for(i.__super__.introEvaluation.apply(this,arguments),t=e=0;3>=e;t=e+=1)this.observer.subscribe("init_evaluation",this.library["tn"+t].onInitEvaluation);return this.library.dropper.changeText(""),this.library.dropper.changeLabel(this.answers[this.index].text),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.casa,1,{alpha:0,y:this.library.casa.y+100,delay:1}),TweenLite.from(this.library.dropper,1,{alpha:0,x:this.library.dropper.x+100,ease:Quart.easeOut,delay:3,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.allFrom([this.library.nube1,this.library.nube2,this.library.nube3,this.library.nube4],1,{alpha:0,y:stageSize.h,delay:2})},i.prototype.initEvaluation=function(){var t,e,r;for(i.__super__.initEvaluation.apply(this,arguments),r=[],t=e=0;3>=e;t=e+=1)r.push(this.library["tn"+t].addEventListener("drop",this.evaluateAnswer));return r},i.prototype.evaluateAnswer=function(t){var e;return this.answer=t.target,e=this.library.dropper.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.dropper.hitTest(e.x,e.y)?this.answer.index===this.answers[this.index].id?(this.answer.x=this.answer.pos.x,this.answer.y=this.answer.pos.y,this.library.dropper.changeText(this.answer.text.text),createjs.Sound.play("good"),setTimeout(this.finishEvaluation,1e3)):(this.warning(),this.answer.returnToPlace(),this.intento++,2===this.intento?setTimeout(this.finishEvaluation,1e3):void 0):this.answer.returnToPlace()},i.prototype.finishEvaluation=function(){return 0===this.intento&&this.library.score.plusOne(),this.intento=0,TweenLite.to(this.library.dropper,.5,{alpha:0,y:stageSize.h,ease:Back.easeOut,onComplete:this.nextEvaluation})},i.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers.length?(this.library.dropper.y=1050,this.library.dropper.x=400,this.library.dropper.changeText(""),this.library.dropper.changeLabel(this.answers[this.index].text),TweenLite.to(this.library.dropper,.5,{alpha:1,x:300,ease:Quart.easeOut})):this.finish()},i.prototype.finish=function(){return TweenLite.to(this.library.casa,1,{alpha:0,y:this.library.casa.y+100}),TweenLite.to(this.library.dropper,1,{alpha:0,x:this.library.dropper.x+100,ease:Quart.easeOut}),TweenMax.allTo([this.library.nube1,this.library.nube2,this.library.nube3,this.library.nube4],1,{alpha:0,y:stageSize.h}),i.__super__.finish.apply(this,arguments)},window.U2A1=i,i}(Oda)}).call(this);