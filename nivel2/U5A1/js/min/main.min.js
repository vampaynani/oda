(function(){var a,i=function(a,i){return function(){return a.apply(i,arguments)}},t={}.hasOwnProperty,e=function(a,i){function e(){this.constructor=a}for(var l in i)t.call(i,l)&&(a[l]=i[l]);return e.prototype=i.prototype,a.prototype=new e,a.__super__=i.prototype,a};a=function(a){function t(){this.repeatSound=i(this.repeatSound,this),this.nextEvaluation=i(this.nextEvaluation,this),this.finishEvaluation=i(this.finishEvaluation,this),this.evaluateAnswer=i(this.evaluateAnswer,this),this.evaluateDrop=i(this.evaluateDrop,this),this.initEvaluation=i(this.initEvaluation,this);var a,e;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"btnFinished",src:"btn_finished.png"},{id:"propCalendar",src:"prop_calendar.png"},{id:"btnRepeat",src:"btn_repeat.png"},{id:"cal1Final2",src:"cal1/cal1final2.png"},{id:"cal1Final6",src:"cal1/cal1final6.png"},{id:"cal1Final9",src:"cal1/cal1final9.png"},{id:"cal1Final11",src:"cal1/cal1final11.png"},{id:"cal1Final3",src:"cal1/final_sled.png"},{id:"cal1Final4",src:"cal1/final_scooter.png"},{id:"cal1Final10",src:"cal1/final_rake.png"},{id:"cal1Final7",src:"cal1/final_noshoes.png"},{id:"cal1Final12",src:"cal1/final_grandma.png"},{id:"cal1Final5",src:"cal1/final_flowers.png"},{id:"cal1Final1",src:"cal1/final_chocolate.png"},{id:"cal1Final8",src:"cal1/final_cake.png"},{id:"cal1Dragble8",src:"cal1/dragble_sled.png"},{id:"cal1Dragble4",src:"cal1/dragble_scooter.png"},{id:"cal1Dragble6",src:"cal1/dragble_rake.png"},{id:"cal1Dragble7",src:"cal1/dragble_noshoes.png"},{id:"cal1Dragble1",src:"cal1/dragble_grandma.png"},{id:"cal1Dragble5",src:"cal1/dragble_flowers.png"},{id:"cal1Dragble2",src:"cal1/dragble_chocolate.png"},{id:"cal1Dragble3",src:"cal1/dragble_cake.png"},{id:"cal2Final12",src:"cal2/cal2final12.png"},{id:"cal2Final6",src:"cal2/cal2final6.png"},{id:"cal2Final8",src:"cal2/cal2final8.png"},{id:"cal2Final10",src:"cal2/cal2final10.png"},{id:"cal2Final9",src:"cal2/final_soccer.png"},{id:"cal2Final1",src:"cal2/final_snowman.png"},{id:"cal2Final7",src:"cal2/final_pool.png"},{id:"cal2Final5",src:"cal2/final_picnic.png"},{id:"cal2Final2",src:"cal2/final_kite.png"},{id:"cal2Final11",src:"cal2/final_guitar.png"},{id:"cal2Final3",src:"cal2/final_eggs.png"},{id:"cal2Final4",src:"cal2/final_bike.png"},{id:"cal2Dragble2",src:"cal2/dragble_soccer.png"},{id:"cal2Dragble3",src:"cal2/dragble_snowman.png"},{id:"cal2Dragble1",src:"cal2/dragble_pool.png"},{id:"cal2Dragble8",src:"cal2/dragble_picnic.png"},{id:"cal2Dragble7",src:"cal2/dragble_kite.png"},{id:"cal2Dragble4",src:"cal2/dragble_guitar.png"},{id:"cal2Dragble6",src:"cal2/dragble_eggs.png"},{id:"cal2Dragble5",src:"cal2/dragble_bike.png"}],e=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U5_A1_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U5_A1_calendar1.mp3",id:"cal1"},{src:"sounds/TU2_U5_A1_calendar2.mp3",id:"cal2"}],this.game=[{finales:[{x:365,y:396},{x:588,y:400},{x:776,y:424},{x:390,y:520},{x:612,y:514},{x:794,y:530},{x:423,y:646},{x:650,y:642},{x:830,y:634},{x:451,y:779},{x:680,y:744},{x:890,y:750}],drags:[{x:140,y:1016},{x:314,y:1054},{x:456,y:1010},{x:604,y:1026},{x:778,y:1006},{x:930,y:1028},{x:1078,y:1024},{x:1270,y:1042}],drops:[{id:"cal1Dragble2",tgt:"cal1Final1"},{id:"cal1Dragble8",tgt:"cal1Final3"},{id:"cal1Dragble4",tgt:"cal1Final4"},{id:"cal1Dragble5",tgt:"cal1Final5"},{id:"cal1Dragble7",tgt:"cal1Final7"},{id:"cal1Dragble3",tgt:"cal1Final8"},{id:"cal1Dragble6",tgt:"cal1Final10"},{id:"cal1Dragble1",tgt:"cal1Final12"}]},{finales:[{x:362,y:386},{x:584,y:404},{x:776,y:424},{x:386,y:510},{x:616,y:518},{x:794,y:526},{x:418,y:640},{x:632,y:636},{x:848,y:634},{x:432,y:770},{x:684,y:766},{x:916,y:731}],drags:[{x:140,y:1016},{x:314,y:1054},{x:456,y:1010},{x:564,y:1026},{x:698,y:1006},{x:890,y:1028},{x:1078,y:1024},{x:1230,y:1042}],drops:[{id:"cal2Dragble3",tgt:"cal2Final1"},{id:"cal2Dragble7",tgt:"cal2Final2"},{id:"cal2Dragble6",tgt:"cal2Final3"},{id:"cal2Dragble5",tgt:"cal2Final4"},{id:"cal2Dragble8",tgt:"cal2Final5"},{id:"cal2Dragble1",tgt:"cal2Final7"},{id:"cal2Dragble2",tgt:"cal2Final9"},{id:"cal2Dragble4",tgt:"cal2Final11"}]}],t.__super__.constructor.call(this,null,a,e)}return e(t,a),t.prototype.setStage=function(){return t.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Listen and drag the pictures to the correct month on the calendar.",80,200),this.insertBitmap("btnRepeat","btnRepeat",1196,490),this.insertBitmap("btnFinished","btnFinished",1196,584),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,16,0)),this.setCalendar(1).introEvaluation()},t.prototype.setCalendar=function(a){var i,t,e,l,n,r,s;for(this.calendar=a,t=new createjs.Container,t.name="calendar",t.x=120,t.y=0,this.insertBitmap("propCalendar","propCalendar",120,256),l=r=1;12>=r;l=++r)i=new createjs.Container,i.name="cal"+a+"Final"+l,i.x=this.game[a-1].finales[l-1].x,i.y=this.game[a-1].finales[l-1].y,1===a?2===l||6===l||9===l||11===l?(n=this.createBitmap("","cal"+a+"Final"+l,0,0),i.addChild(n)):(e=new createjs.Shape,e.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(-50,-50,180,110),i.addChild(e)):2===a&&(6===l||8===l||10===l||12===l?(n=this.createBitmap("","cal"+a+"Final"+l,0,0),i.addChild(n)):(e=new createjs.Shape,e.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(-50,-50,180,110),i.addChild(e))),t.addChild(i),this.addToLibrary(i);for(l=s=1;8>=s;l=++s)n=new Draggable("cal"+a+"Dragble"+l,this.preload.getResult("cal"+a+"Dragble"+l),"cal"+a+"Final"+l,this.game[a-1].drags[l-1].x,this.game[a-1].drags[l-1].y),n.onInitEvaluation(),t.addChild(n),this.addToLibrary(n);return this.addToMain(t),TweenLite.to(t,1,{alpha:1,y:0}),this},t.prototype.introEvaluation=function(){return t.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y+40,delay:.5}),TweenLite.from(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y+40,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},t.prototype.initEvaluation=function(){var a,i;for(t.__super__.initEvaluation.apply(this,arguments),a=i=1;8>=i;a=++i)this.library["cal"+this.calendar+"Dragble"+a].addEventListener("drop",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.play("cal"+this.calendar)},t.prototype.evaluateDrop=function(a){var i,t,e,l,n,r,s,c;for(this.answer=a.target,t=!1,c=this.game[this.calendar-1].drops,r=0,s=c.length;s>r;r++)i=c[r],e=this.library[i.tgt].globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library[i.tgt].hitTest(e.x,e.y)&&(t=!0,this.answer.visible=!1,l=this.game[this.calendar-1].drops.where({id:this.answer.name}),n=this.createBitmap(l[0].id,l[0].tgt,45,25),this.setReg(n,n.width/2,n.height/2),this.library[i.tgt].addChild(n));return t?void 0:this.answer.returnToPlace()},t.prototype.evaluateAnswer=function(){var a,i,t,e;for(this.library.btnRepeat.removeEventListener("click",this.repeatSound),this.library.btnFinished.removeEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),a=this.game[this.calendar-1].drops,i=t=1,e=a.length;e>=t;i=t+=1)this.library[a[i-1].tgt].children.length>1&&this.library[a[i-1].tgt].children[1].name===a[i-1].id&&(this.blink(this.library[a[i-1].tgt]),this.library.score.plusOne());return setTimeout(this.finishEvaluation,4e3)},t.prototype.finishEvaluation=function(){return TweenLite.to(this.library.calendar,1,{alpha:0,y:this.library.calendar.y-40}),TweenLite.to(this.library.propCalendar,1,{alpha:0,y:this.library.propCalendar.y-40,onComplete:this.nextEvaluation})},t.prototype.nextEvaluation=function(){var a,i;if(this.index++,this.index<this.game.length){for(this.setCalendar(this.index+1),a=i=1;8>=i;a=++i)this.library["cal"+this.calendar+"Dragble"+a].addEventListener("drop",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),createjs.Sound.play("cal"+this.calendar)}return this.finish()},t.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("cal"+this.calendar)},t.prototype.finish=function(){return createjs.Sound.stop(),TweenLite.to(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y+40}),TweenLite.to(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y+40}),t.__super__.finish.apply(this,arguments)},window.U5A1=t,t}(Oda)}).call(this);