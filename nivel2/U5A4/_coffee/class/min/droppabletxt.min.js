(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=[].slice;t=function(){function t(t,i,n,s,r,a,h){null==h&&(h=[]),this.blinkAgain=e(this.blinkAgain,this),this.handleMouseDown=e(this.handleMouseDown,this),this.onInitEvaluation=e(this.onInitEvaluation,this),this.endDragListener=e(this.endDragListener,this),this.initDragListener=e(this.initDragListener,this),this.initialize(t,i,n,s,r,a,h)}return t.prototype=new createjs.Container,t.prototype.Container_initialize=t.prototype.initialize,t.prototype.initialize=function(t,e,i,n,s,r,a){return this.Container_initialize(),this.name=t,this.index=i,this.x=n,this.y=s,this.pos={x:n,y:s},this.stage=r,this.drops=a,this.text=new createjs.Text(e,"32px Quicksand","#333333"),this.hit=new createjs.Shape,this.hit.graphics.beginFill("#000").drawRect(-10,-10,this.text.getMeasuredWidth()+20,this.text.getMeasuredHeight()+20),this.text.hitArea=this.hit,this.inPlace=!1,this.addChild(this.text),!1},t.prototype.createHitArea=function(t,e){switch(this.text.textAlign){case"left":this.hit.graphics.c().beginFill("#000").drawRect(0,0,t,e);break;case"center":this.hit.graphics.c().beginFill("#000").drawRect(-t/2,0,t,e);break;case"right":this.hit.graphics.c().beginFill("#000").drawRect(-t,0,t,e)}return this.text.hitArea=this.hit},t.prototype.setHitArea=function(){var t,e;switch(e=this.text.getMeasuredWidth(),t=this.text.getMeasuredHeight(),this.text.textAlign){case"left":this.hit.graphics.c().beginFill("#000").drawRect(0,0,e,t);break;case"center":this.hit.graphics.c().beginFill("#000").drawRect(-e/2,0,e,t);break;case"right":this.hit.graphics.c().beginFill("#000").drawRect(-e,0,e,t)}return this.text.hitArea=this.hit},t.prototype.updateDrops=function(){var t,e,n,s,r,a,h;if(t=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],this.drops=[],this.isArray(t))for(s=0,a=t.length;a>s;s++)n=t[s],this.drops.push(n);else for(this.drops.push(t),r=0,h=e.length;h>r;r++)n=e[r],this.drops.push(n);return this.drops},t.prototype.isArray=function(t){return Array.isArray(t||function(t){return"[object Array]"==={}.toString.call(t)})},t.prototype.initDragListener=function(){return this.addEventListener("mousedown",this.handleMouseDown)},t.prototype.endDragListener=function(){return this.removeEventListener("mousedown",this.handleMouseDown)},t.prototype.onInitEvaluation=function(){return this.addEventListener("mousedown",this.handleMouseDown)},t.prototype.handleMouseDown=function(t){var e,i,n,s=this;return i=t.stageX/stageSize.r,n=t.stageY/stageSize.r,e={x:i-this.x,y:n-this.y},this.x=i-e.x,this.y=n-e.y,this.addEventListener("mousemove",function(t){return i=t.stageX/stageSize.r,n=t.stageY/stageSize.r,s.x=i-e.x,s.y=n-e.y,!1}),this.addEventListener("mouseup",function(){return s.drops.length>0?s.evaluateDrop(t):s.dispatchEvent("drop"),!1}),!1},t.prototype.evaluateDrop=function(){var t,e,i,n,s,r,a;for(i=null,e=!1,a=this.drops,s=0,r=a.length;r>s;s++)t=a[s],n=t.globalToLocal(this.stage.mouseX,this.stage.mouseY),t.hitTest(n.x,n.y)&&(i=t,e=!0);return e?this.dispatchEvent({type:"dropped",drop:i}):this.returnToPlace()},t.prototype.blink=function(t){return null==t&&(t=!0),TweenMax.killTweensOf(this),this.alpha=1,t?TweenMax.to(this,.2,{alpha:.2,repeat:-1,yoyo:!0}):void 0},t.prototype.blinkAgain=function(){return TweenLite.killTweensOf(this),this.blink(!0)},t.prototype.putInPlace=function(t,e,i,n){return null==e&&(e=1),null==i&&(i=1),null==n&&(n=1),this.inPlace=!0,TweenLite.to(this,1,{ease:Back.easeOut,delay:.1,x:t.x,y:t.y,alpha:e,scaleX:i,scaleY:n})},t.prototype.returnToPlace=function(t,e,i){return null==t&&(t=1),null==e&&(e=1),null==i&&(i=1),TweenLite.to(this,.5,{ease:Back.easeOut,delay:.1,x:this.pos.x,y:this.pos.y,alpha:t,scaleX:e,scaleY:i})},window.DroppableText=t,t}()}).call(this);