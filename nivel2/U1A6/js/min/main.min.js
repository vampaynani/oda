(function(){var i,t=function(i,t){return function(){return i.apply(t,arguments)}},r={}.hasOwnProperty,s=function(i,t){function s(){this.constructor=i}for(var a in t)r.call(t,a)&&(i[a]=t[a]);return s.prototype=t.prototype,i.prototype=new s,i.__super__=t.prototype,i};i=function(i){function r(){this.finish=t(this.finish,this),this.nextEvaluation=t(this.nextEvaluation,this),this.finishEvaluation=t(this.finishEvaluation,this),this.evaluateAnswer=t(this.evaluateAnswer,this),this.initEvaluation=t(this.initEvaluation,this);var i,s;i=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"crossWords",src:"cross_words.png"},{id:"bass",src:"bass.png"},{id:"drum",src:"drum.png"},{id:"guitar",src:"guitar.png"},{id:"flute",src:"flute.png"},{id:"piano",src:"piano.png"},{id:"sax",src:"sax.png"},{id:"tambourine",src:"tambourine.png"},{id:"trumpet",src:"trumpet.png"},{id:"drum_number",src:"drum_number.png"},{id:"guitar_number",src:"guitar_number.png"},{id:"flute_number",src:"flute_number.png"},{id:"piano_number",src:"piano_number.png"},{id:"sax_number",src:"sax_number.png"},{id:"tambourine_number",src:"tambourine_number.png"},{id:"trumpet_number",src:"trumpet_number.png"},{id:"bass_number",src:"bass_number.png"},{id:"aLetra",src:"a.png"},{id:"bLetra",src:"b.png"},{id:"cLetra",src:"c.png"},{id:"dLetra",src:"d.png"},{id:"eLetra",src:"e.png"},{id:"fLetra",src:"f.png"},{id:"gLetra",src:"g.png"},{id:"hLetra",src:"h.png"},{id:"iLetra",src:"i.png"},{id:"jLetra",src:"j.png"},{id:"kLetra",src:"k.png"},{id:"lLetra",src:"l.png"},{id:"mLetra",src:"m.png"},{id:"nLetra",src:"n.png"},{id:"oLetra",src:"o.png"},{id:"pLetra",src:"p.png"},{id:"qLetra",src:"q.png"},{id:"rLetra",src:"r.png"},{id:"sLetra",src:"s.png"},{id:"tLetra",src:"t.png"},{id:"uLetra",src:"u.png"},{id:"vLetra",src:"v.png"},{id:"wLetra",src:"w.png"},{id:"xLetra",src:"x.png"},{id:"yLetra",src:"y.png"},{id:"zLetra",src:"z.png"}],s=[{src:"sounds/TU2_U1_A6_instructions.mp3",id:"instructions"},{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U1_A6_bass.mp3",id:"sbass"},{src:"sounds/TU2_U1_A6_drum.mp3",id:"sdrum"},{src:"sounds/TU2_U1_A6_flute.mp3",id:"sflute"},{src:"sounds/TU2_U1_A6_guitar.mp3",id:"sguitar"},{src:"sounds/TU2_U1_A6_piano.mp3",id:"spiano"},{src:"sounds/TU2_U1_A6_saxophone.mp3",id:"ssaxophone"},{src:"sounds/TU2_U1_A6_tambourine.mp3",id:"stambourine"},{src:"sounds/TU2_U1_A6_trumpet.mp3",id:"strumpet"},{src:"sounds/TU2_U1_A6_violin.mp3",id:"sviolin"},{src:"sounds/wrong.mp3",id:"wrong"}],this.abc=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],this.numbers=[{id:"1",x:5,y:-1},{id:"2",x:7,y:-1},{id:"3",x:-1,y:2},{id:"4",x:0,y:1},{id:"5",x:10,y:3},{id:"6",x:2,y:4},{id:"7",x:-1,y:6},{id:"8",x:1,y:8}],this.containers=[{id:"d",x:5,y:0,a:!0},{id:"r",x:5,y:1},{id:"u",x:5,y:2},{id:"m",x:5,y:3},{id:"g",x:7,y:0,a:!0},{id:"u",x:7,y:1},{id:"i",x:7,y:2},{id:"t",x:7,y:3},{id:"a",x:7,y:4},{id:"r",x:7,y:5},{id:"t",x:0,y:2,a:!0},{id:"a",x:1,y:2},{id:"m",x:2,y:2},{id:"b",x:3,y:2},{id:"o",x:4,y:2},{id:"r",x:6,y:2},{id:"n",x:8,y:2},{id:"e",x:9,y:2},{id:"r",x:0,y:3},{id:"u",x:0,y:4},{id:"m",x:0,y:5},{id:"p",x:0,y:6,a:!0},{id:"e",x:0,y:7},{id:"t",x:0,y:8},{id:"f",x:10,y:4,a:!0},{id:"l",x:10,y:5},{id:"u",x:10,y:6},{id:"t",x:10,y:7},{id:"e",x:10,y:8},{id:"b",x:2,y:5,a:!0},{id:"a",x:2,y:6},{id:"s",x:2,y:7},{id:"s",x:2,y:8,a:!0},{id:"i",x:1,y:6},{id:"n",x:3,y:6},{id:"o",x:4,y:6},{id:"a",x:3,y:8},{id:"x",x:4,y:8},{id:"o",x:5,y:8},{id:"p",x:6,y:8},{id:"h",x:7,y:8},{id:"o",x:8,y:8},{id:"n",x:9,y:8}],this.game={answers:{drum:{r:!1,c:[0,1,2,3]},guitar:{r:!1,c:[4,5,6,7,8,9]},tambourine:{r:!1,c:[10,11,12,13,14,2,15,6,16,17]},trumpet:{r:!1,c:[10,18,19,20,21,22,23]},flute:{r:!1,c:[24,25,26,27,28]},bass:{r:!1,c:[29,30,31,32]},piano:{r:!1,c:[21,33,30,34,35]},saxophone:{r:!1,c:[32,36,37,38,39,40,41,42,28]}}},r.__super__.constructor.call(this,null,i,s)}return s(r,i),r.prototype.setStage=function(){return r.__super__.setStage.apply(this,arguments),this.answers=this.clone(this.game.answers),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Look and drag the letters to complete the crossword puzzle.",60,200),this.insertBitmap("saxophone","sax",682,246),this.insertBitmap("saxophoneNo","sax_number",692,270),this.insertBitmap("drum","drum",198,250),this.insertBitmap("drumNo","drum_number",138,250),this.insertBitmap("guitar","guitar",198,456),this.insertBitmap("guitarNo","guitar_number",326,504),this.insertBitmap("tambourine","tambourine",384,824),this.insertBitmap("tambourineNo","tambourine_number",394,780),this.insertBitmap("trumpet","trumpet",706,892),this.insertBitmap("trumpetNo","trumpet_number",644,888),this.insertBitmap("flute","flute",1092,896),this.insertBitmap("fluteNo","flute_number",1042,886),this.insertBitmap("bass","bass",1278,498),this.insertBitmap("bassNo","bass_number",1242,558),this.insertBitmap("piano","piano",1134,154),this.insertBitmap("pianoNo","piano_number",1134,276),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,8,0)),this.intento=0,this.createDroppers(),this.createAlphabet(),this.introEvaluation()},r.prototype.createAlphabet=function(){var i,t,r,s,a,e;for(i=new createjs.Container,i.x=270,i.y=1020,i.name="alphabet",t=a=0,e=this.abc.length-1;e>=a;t=a+=1)r=this.abc[t],s=13>=t?new DraggableText(r,r,r,83*t,0):new DraggableText(r,r,r,83*t-1020,68),s.text.font="48px Quicksand",s.onInitEvaluation(),i.addChild(s),this.addToLibrary(s);return this.addToMain(i)},r.prototype.createDroppers=function(){var i,t,r,s,a,e,n;for(i=new createjs.Container,i.x=610,i.y=432,i.name="crosswords",r=a=0,n=this.containers.length-1;n>=a;r=a+=1)t=new WordContainer("h"+r,"","#FFF","#999",46*this.containers[r].x,46*this.containers[r].y,46,46),t.setRectShape("#FFF","#999",3,46,46),t.text.y-=3,t.id=this.containers[r].id,this.addToLibrary(t),i.addChild(t);for(r=e=0;7>=e;r=++e)s=new createjs.Text(this.numbers[r].id,"28px Quicksand","#333"),s.x=46*this.numbers[r].x+12,s.y=46*this.numbers[r].y+8,i.addChild(s);return i.cache(-46,-46,560,485),this.addToMain(i)},r.prototype.introEvaluation=function(){var i,t,s;for(r.__super__.introEvaluation.apply(this,arguments),this.library.crosswords.y=432,this.library.crosswords.alpha=1,this.library.alphabet.y=1020,this.library.alphabet.alpha=1,this.library.saxophone.alpha=1,this.library.saxophoneNo.alpha=1,this.library.drum.alpha=1,this.library.drumNo.alpha=1,this.library.guitar.alpha=1,this.library.guitarNo.alpha=1,this.library.tambourine.alpha=1,this.library.tambourineNo.alpha=1,this.library.trumpet.alpha=1,this.library.trumpetNo.alpha=1,this.library.flute.alpha=1,this.library.fluteNo.alpha=1,this.library.bass.alpha=1,this.library.bassNo.alpha=1,this.library.piano.alpha=1,this.library.pianoNo.alpha=1,i=t=0,s=this.containers.length-1;s>=t;i=t+=1)this.containers[i].a?this.library["h"+i].changeText(this.containers[i].id):this.library["h"+i].changeText("");return TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenMax.allFrom([this.library.saxophone,this.library.drum,this.library.guitar,this.library.tambourine,this.library.trumpet,this.library.flute,this.library.bass,this.library.piano],1,{alpha:0,delay:1.5},.2),TweenMax.allFrom([this.library.saxophoneNo,this.library.drumNo,this.library.guitarNo,this.library.tambourineNo,this.library.trumpetNo,this.library.fluteNo,this.library.bassNo,this.library.pianoNo],1,{alpha:0,delay:1.5},.2),TweenLite.from(this.library.alphabet,1,{alpha:0,y:this.library.alphabet.y+100,delay:1.5}),TweenLite.from(this.library.crosswords,1,{alpha:0,y:this.library.crosswords.y+100,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},r.prototype.initEvaluation=function(){var i,t,s,a,e;for(r.__super__.initEvaluation.apply(this,arguments),this.library.crosswords.updateCache(),a=this.abc,e=[],t=0,s=a.length;s>t;t++)i=a[t],e.push(this.library[i].addEventListener("drop",this.evaluateAnswer));return e},r.prototype.evaluateAnswer=function(i){var t,r,s,a,e,n,o;for(this.answer=i.target,t=!1,s=null,a=n=0,o=this.containers.length-1;o>=n;a=n+=1)r=this.library["h"+a],e=r.globalToLocal(this.stage.mouseX,this.stage.mouseY),r.hitTest(e.x,e.y)?(t=!0,r.id===this.answer.index&&(s=r)):this.answer.returnToPlace();return t===!0?null!==s?(s.changeText(s.id),this.answer.x=this.answer.pos.x,this.answer.y=this.answer.pos.y,this.evaluate("drum"),this.evaluate("guitar"),this.evaluate("tambourine"),this.evaluate("trumpet"),this.evaluate("flute"),this.evaluate("bass"),this.evaluate("piano"),this.evaluate("saxophone"),this.library.crosswords.updateCache()):(this.warning(),this.intento++):void 0},r.prototype.evaluate=function(i){var t,r,s,a,e,n,o;if(r=!0,!this.answers[i].r){for(n=this.answers[i].c,a=0,e=n.length;e>a;a++)t=n[a],""===this.library["h"+t].text.text&&(r=!1);if(r)return s=createjs.Sound.play("s"+i),s.instrument=i,s.addEventListener("complete",this.finishEvaluation),this.answers[i].r=!0,(0===(o=this.intento)||1===o)&&this.library.score.plusOne(),this.intento=0}},r.prototype.finishEvaluation=function(i){return TweenMax.allTo([this.library[i.target.instrument],this.library[i.target.instrument+"No"]],1,{alpha:0,ease:Quart.easeOut,onComplete:this.nextEvaluation})},r.prototype.nextEvaluation=function(){var i,t;i=!0;for(t in this.answers)this.answers[t].r===!1&&(i=!1);return i&&TweenLite.to(this.library.alphabet,.5,{alpha:0,y:this.library.alphabet.y-200,ease:Quart.easeOut}),i?TweenLite.to(this.library.crosswords,.5,{alpha:0,y:this.library.crosswords.y-200,ease:Quart.easeOut,onComplete:this.finish}):void 0},r.prototype.blink=function(i,t){return null==t&&(t=!0),TweenMax.killTweensOf(i),i.alpha=1,t?TweenMax.to(i,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},r.prototype.finish=function(){return r.__super__.finish.apply(this,arguments)},window.U1A6=r,r}(Oda)}).call(this);