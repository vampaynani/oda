(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t=function(t){function i(){this.nextEvaluation=e(this.nextEvaluation,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.killThis=e(this.killThis,this),this.makeRaindrop=e(this.makeRaindrop,this),this.makeRaindropb=e(this.makeRaindropb,this),this.makeRaindropr=e(this.makeRaindropr,this),this.updateCounter=e(this.updateCounter,this),this.selectLevel=e(this.selectLevel,this),this.initEvaluation=e(this.initEvaluation,this);var t,n;t=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"background",src:"background.png"},{id:"bucket",src:"bucket.png"},{id:"raindrop",src:"raindrop.png"},{id:"level1Btn",src:"level1-btn.png"},{id:"level2Btn",src:"level2-btn.png"},{id:"level3Btn",src:"level3-btn.png"}],n=[{src:"sounds/TU2_U2_A6_instructions.mp3",id:"instructions"},{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"}],this.counter={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety",100:"one\r\nhundred"},i.__super__.constructor.call(this,null,t,n)}return n(i,t),i.prototype.setStage=function(){var t,e,n,r,s,a,o,h,l;for(i.__super__.setStage.apply(this,arguments),this.buckets=[{x:264,y:984,a:!0},{x:464,y:932,a:!0},{x:664,y:984,a:!0},{x:864,y:932,a:!0},{x:1064,y:984,a:!0},{x:1264,y:932,a:!0}],this.random=[],r=0,e=new createjs.Container,e.x=0,e.y=0,e.name="box";6>r;)o=Math.round(100*Math.random()),this.random.push(o),r++;for(this.insertBitmap("background","background",0,50),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Race the clock! Drag the numerals to the number words.",80,200),this.insertBitmap("l1","level1Btn",1462,872),this.insertBitmap("l2","level2Btn",1462,966),this.insertBitmap("l3","level3Btn",1462,1060),s=l=0;5>=l;s=l+=1)n=new createjs.Container,a=this.bucketName(this.random[s]),h=new createjs.Text(""+a,"32px Quicksand","#FF0000"),t=this.createBitmap("b"+s,"bucket",0,0),n.name="b"+s,n.index=this.random[s],h.textAlign="center",h.x=t.width/2,h.y=t.height/2,n.x=this.buckets[s].x,n.y=this.buckets[s].y,n.width=t.width,n.height=t.height,this.addToLibrary(n),n.addChild(t,h),e.addChild(n);return this.addToMain(e),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,90,0)),this.introEvaluation()},i.prototype.bucketName=function(t){var e,i;return i=""+t,e=function(){switch(i.length){case 1:return this.counter[i];case 2:return this.buildName(i);case 3:return this.counter[i]}}.call(this)},i.prototype.buildName=function(t){var e,i;return e=10*Math.floor(t/10),i=t%10,0===i?this.counter[e]:20>t?this.counter[t]:this.counter[e]+"\r\n"+this.counter[i]},i.prototype.introEvaluation=function(){return i.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.box,1,{alpha:0,y:stageSize.h,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.from([this.library.l1,this.library.l2,this.library.l3],1,{alpha:0,y:stageSize.h,delay:1})},i.prototype.initEvaluation=function(){var t,e,n;for(i.__super__.initEvaluation.apply(this,arguments),n=[],t=e=1;3>=e;t=e+=1)this.blink(this.library["l"+t]),n.push(this.library["l"+t].addEventListener("click",this.selectLevel));return n},i.prototype.selectLevel=function(t){var e,i;for(e=i=1;3>=i;e=i+=1)this.blink(this.library["l"+e],!1),this.library["l"+e].removeEventListener("click",this.selectLevel);switch(t.target.name){case"l1":return this.initRaindrops(1,1500);case"l2":return this.initRaindrops(2,1e3);case"l3":return this.initRaindrops(3,500)}},i.prototype.initRaindrops=function(t,e){return this.raindrops=new createjs.Container,this.raindrops.name="raindrops",this.level=t,this.rnum=0,this.time=90,this.timer=setInterval(this.updateCounter,1e3),this.rinterval=setInterval(this.makeRaindropr,e),this.binterval=setInterval(this.makeRaindropb,2e3),this.addToMain(this.raindrops)},i.prototype.updateCounter=function(){return this.time--,this.library.score.updateTotal(this.time),0===this.time?this.finish():void 0},i.prototype.makeRaindropr=function(){var t;return t=Math.round(100*Math.random()),this.makeRaindrop(t)},i.prototype.makeRaindropb=function(){var t;return t=Math.round(5*Math.random()),this.makeRaindrop(this.random[t])},i.prototype.makeRaindrop=function(t){var e,i;switch(e=new Draggable("d"+this.rnum,this.preload.getResult("raindrop"),t,1200*Math.random()+200,this.library.header.height),i=new createjs.Text(""+t,"32px Quicksand","#000099"),i.textAlign="center",i.x=e.width/2,i.y=e.height/2,e.addChild(i),this.raindrops.addChild(e),e.addEventListener("drop",this.evaluateAnswer),e.initDragListener(),this.rnum++,this.level){case 1:return TweenLite.to(e,9,{y:780,ease:Linear.easeNone,onComplete:this.killThis,onCompleteParams:[e]});case 2:return TweenLite.to(e,7,{y:780,ease:Linear.easeNone,onComplete:this.killThis,onCompleteParams:[e]});case 3:return TweenLite.to(e,5,{y:780,ease:Linear.easeNone,onComplete:this.killThis,onCompleteParams:[e]})}},i.prototype.killThis=function(t){return TweenLite.killTweensOf(t),this.raindrops.removeChild(t)},i.prototype.evaluateAnswer=function(t){var e,i,n,r,s,a,o;for(this.answer=t.target,i=!1,s=o=0;5>=o;s=o+=1)n=this.library["b"+s],a=n.globalToLocal(this.stage.mouseX,this.stage.mouseY),n.hitTest(a.x,a.y)&&(n.index===this.answer.index?(r=n.parent.localToGlobal(n.x+n.width/2-60,n.y+n.height/2-60),e=this.answer.parent.globalToLocal(r.x,r.y),this.buckets[s].a=!1,i=!0,this.answer.putInPlace(e),this.library.score.plusOne(),createjs.Sound.play("good"),setTimeout(this.finishEvaluation,2e3)):createjs.Sound.play("wrong"));return i?void 0:this.answer.takeMeOut()},i.prototype.finishEvaluation=function(){return this.nextEvaluation()},i.prototype.nextEvaluation=function(){var t,e,i;for(t=!0,e=i=0;5>=i;e=i+=1)this.buckets[e].a===!0&&(t=!1);return console.log(this.buckets),t?this.finish():void 0},i.prototype.blink=function(t,e){return null==e&&(e=!0),TweenMax.killTweensOf(t),t.alpha=1,e?TweenMax.to(t,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},i.prototype.finish=function(){return clearInterval(this.timer),clearInterval(this.rinterval),clearInterval(this.binterval),TweenLite.to([this.library.background,this.library.box,this.library.raindrops],.5,{alpha:0}),TweenMax.to([this.library.l1,this.library.l2,this.library.l3],1,{alpha:0,y:stageSize.h}),i.__super__.finish.apply(this,arguments)},window.U2A6=i,i}(Oda)}).call(this);