(function(){var e,r=function(e,r){return function(){return e.apply(r,arguments)}},t={}.hasOwnProperty,i=function(e,r){function i(){this.constructor=e}for(var s in r)t.call(r,s)&&(e[s]=r[s]);return i.prototype=r.prototype,e.prototype=new i,e.__super__=r.prototype,e};e=function(e){function t(){this.nextEvaluation=r(this.nextEvaluation,this),this.finishEvaluation=r(this.finishEvaluation,this),this.evaluateAnswer=r(this.evaluateAnswer,this),this.initEvaluation=r(this.initEvaluation,this),this.setFinal=r(this.setFinal,this);var e,i;e=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"greenbg",src:"green/propbg.png"},{id:"greenscreen",src:"green/screen_begreen.png"},{id:"dropAreagreenB",src:"green/dropArea_B.png"},{id:"dropAreagreenE",src:"green/dropArea_E.png"},{id:"dropAreagreenG",src:"green/dropArea_G.png"},{id:"dropAreagreenR",src:"green/dropArea_R.png"},{id:"dropAreagreenE2",src:"green/dropArea_E2.png"},{id:"dropAreagreenE3",src:"green/dropArea_E3.png"},{id:"dropAreagreenN",src:"green/dropArea_N.png"},{id:"greenB",src:"green/outsite_B.png"},{id:"greenE",src:"green/outside_E.png"},{id:"greenG",src:"green/outside_G.png"},{id:"greenR",src:"green/outside_R.png"},{id:"greenE2",src:"green/outside_E2.png"},{id:"greenE3",src:"green/outside_E3.png"},{id:"greenN",src:"green/outside_N.png"},{id:"summerscreen",src:"summer/screen_summer.png"},{id:"summerbg",src:"summer/prop_bg.png"},{id:"dropAreasummerS",src:"summer/dropArea_S.png"},{id:"dropAreasummerU",src:"summer/dropArea_U.png"},{id:"dropAreasummerM",src:"summer/dropArea_M.png"},{id:"dropAreasummerM2",src:"summer/dropArea_M2.png"},{id:"dropAreasummerE",src:"summer/dropArea_E.png"},{id:"dropAreasummerR",src:"summer/dropArea_R.png"},{id:"summerS",src:"summer/sLetra.png"},{id:"summerU",src:"summer/u.png"},{id:"summerM",src:"summer/m.png"},{id:"summerM2",src:"summer/m2.png"},{id:"summerE",src:"summer/e.png"},{id:"summerR",src:"summer/r.png"}],i=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U7_A3_instructions.mp3",id:"instructions"}],this.positions={summertexts:[{t:"1. They are horse backriding.",l:"summerS"},{t:"2. She is fishing at the lake.",l:"summerU"},{t:"3. He is canoeing in the lake.",l:"summerM"},{t:"4. She is playing soccer.",l:"summerM2"},{t:"5. He is resting in the cabin.",l:"summerE"},{t:"6. They are hiking mountains.",l:"summerR"}],summerletras:[{letra:"summerS",x:732,y:370},{letra:"summerU",x:402,y:344},{letra:"summerM",x:160,y:350},{letra:"summerM2",x:846,y:562},{letra:"summerE",x:324,y:582},{letra:"summerR",x:422,y:196}],greentexts:[{t:"1. She is planting trees.",l:"greenB"},{t:"2. He is protecting endangered animals.",l:"greenE"},{t:"3. She is riding her bike.",l:"greenG"},{t:"4. He is conserving water.",l:"greenR"},{t:"5. She is picking up trash.",l:"greenE2"},{t:"6. She is turning off lights.",l:"greenE3"},{t:"7. He is recycling bottles and cans.",l:"greenN"}],greenletras:[{letra:"greenB",x:374,y:238},{letra:"greenE",x:98,y:528},{letra:"greenG",x:534,y:418},{letra:"greenR",x:856,y:356},{letra:"greenE2",x:628,y:440},{letra:"greenE3",x:940,y:238},{letra:"greenN",x:826,y:490}]},t.__super__.constructor.call(this,null,e,i)}return i(t,e),t.prototype.setStage=function(){return t.__super__.setStage.apply(this,arguments),this.intento=0,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Read, drag the letters and complete the mystery word.",80,200),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,13,0)),this.setScene(1).introEvaluation()},t.prototype.setScene=function(e){var r,t,i,s,a,n,l,h,o,p,d,c,g;for(this.escena=new createjs.Container,this.escena.x=232,this.escena.y=320,this.escena.name="escena",1===e?(t="summer",this.esc=1):(t="green",this.esc=2),i=this.createBitmap(""+t+"bg",""+t+"bg",48,22),this.texts=this.positions[""+t+"texts"],this.insertText("label",this.texts[this.index].t,"48px Quicksand","#333",stageSize.w/2,280,"center"),this.escena.addChild(i),this.letras=this.positions[""+t+"letras"],a=new Array,n=p=0,c=this.letras.length-1;c>=0?c>=p:p>=c;n=c>=0?++p:--p)o=this.letras[n],1===e&&(r=this.createBitmap("darea"+o.letra,"dropArea"+o.letra,150*n+170,860,"bc")),2===e&&(r=this.createBitmap("darea"+o.letra,"dropArea"+o.letra,150*n+110,860,"bc"),n>=2&&(r.x=r.x+60)),s=new createjs.Shape,s.graphics.beginFill("rgba(255,255,255,1)").drawRect(0,0,r.width,r.height),s.x=r.x-r.width/2,s.y=r.y-r.height,s.name="dropArea"+o.letra,a.push(s),this.escena.addChild(s,r);for(n=d=0,g=this.letras.length-1;g>=0?g>=d:d>=g;n=g>=0?++d:--d)o=this.letras[n],1===e&&(r=this.createBitmap("darea"+o.letra,"dropArea"+o.letra,150*n+170,860,"bc")),2===e&&(r=this.createBitmap("darea"+o.letra,"dropArea"+o.letra,150*n+110,860,"bc"),n>=2&&(r.x=r.x+60)),l=new Droppable(o.letra,this.preload.getResult(o.letra),n,o.x-20,o.y-20,this.stage,a),l.scaleX=l.scaleY=.43,h=this.createBitmap("f"+this.letras[n].letra,this.letras[n].letra,r.x,r.y-14,"bc"),h.visible=!1,this.addToLibrary(l,h),this.escena.addChild(l,h);return this.addToMain(this.escena),this},t.prototype.setFinal=function(){var e,r,t;return e=1===this.esc?"summer":"green",this.index=0,TweenLite.to(this.library.label,.5,{alpha:0}),t=new createjs.Container,t.name="final",r=this.createBitmap(e+"screen",e+"screen",stageSize.w/2,stageSize.h/2,"mc"),t.addChild(r),this.addToLibrary(t),this.addToMain(t),TweenLite.to(this.library.final,1,{alpha:1,delay:0}),TweenLite.to(this.library.final,1,{alpha:0,delay:2}),1===this.esc?(this.setScene(2).initEvaluation(),TweenLite.from(this.library.escena,2,{alpha:0,y:this.library.escena.y+40,delay:4}),TweenLite.from(this.library.label,.5,{alpha:0,delay:4})):TweenLite.from(this.library.escena,2,{alpha:0,y:this.library.escena.y+40,delay:4,onComplete:this.finish()}),this},t.prototype.introEvaluation=function(){return t.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.label,1,{alpha:0,y:this.library.label.y+20,delay:1}),TweenLite.from(this.library.escena,1,{alpha:0,y:this.library.escena.y+40,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},t.prototype.initEvaluation=function(){var e,r,i,s;for(t.__super__.initEvaluation.apply(this,arguments),s=[],e=r=0,i=this.letras.length-1;i>=0?i>=r:r>=i;e=i>=0?++r:--r)this.library[""+this.letras[e].letra].initDragListener(),s.push(this.library[""+this.letras[e].letra].addEventListener("dropped",this.evaluateAnswer));return s},t.prototype.evaluateAnswer=function(e){return this.answer=e.target,this.drop=e.drop,"dropArea"+this.answer.name===this.drop.name?this.answer.name===this.texts[this.index].l?(this.library["f"+this.answer.name].visible=!0,this.answer.visible=!1,0===this.intento&&this.library.score.plusOne(),this.finishEvaluation(),this.intento=0,createjs.Sound.play("good")):(this.answer.returnToPlace(1,.43,.43),this.intento=1,this.warning()):(this.answer.returnToPlace(1,.43,.43),this.intento=1,this.warning())},t.prototype.finishEvaluation=function(){return TweenLite.to(this.library.label,.5,{alpha:0,y:this.library.label.y+20,ease:Quart.easeOut,onComplete:this.nextEvaluation})},t.prototype.nextEvaluation=function(){return this.index++,this.index<this.texts.length?(this.library.label.text=this.texts[this.index].t,TweenLite.to(this.library.label,.5,{alpha:1,y:this.library.label.y-20,ease:Quart.easeOut})):(this.escena.removeAllChildren(),this.mainContainer.removeChild(this.escena),this.setFinal())},t.prototype.finish=function(){return TweenLite.to(this.library.instructions,1,{alpha:0}),TweenLite.to(this.library.escena,1,{alpha:0,y:this.library.escena.y+40}),t.__super__.finish.apply(this,arguments)},window.U7A3=t,t}(Oda)}).call(this);