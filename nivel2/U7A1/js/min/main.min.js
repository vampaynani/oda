(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,s=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};t=function(t){function i(){this.nextEvaluation=e(this.nextEvaluation,this),this.clearEvaluation=e(this.clearEvaluation,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.initEvaluation=e(this.initEvaluation,this);var t,s;t=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"cloud",src:"cloud.png"},{id:"hersToothpaste",src:"hers-toothpaste.png"},{id:"hersWhose",src:"hers-whose.png"},{id:"hisTowel",src:"his-towel.png"},{id:"hisWhose",src:"his-whose.png"},{id:"mineBackpack",src:"mine-backpack.png"},{id:"mineSwimsuit",src:"mine-swimsuit.png"},{id:"mineWhose",src:"mine-whose.png"},{id:"yoursWhose",src:"yours-whose.png"}],this.escenas=[{id:"hersToothpaste",p1:8,x1:1053,y1:770,l1:122,p2:7,x2:598,y2:340,l2:208},{id:"hersWhose",p1:8,x1:952,y1:752,l1:116,p2:1,x2:554,y2:342,l2:140},{id:"hisTowel",p1:5,x1:1164,y1:744,l1:104,p2:4,x2:602,y2:336,l2:220},{id:"hisWhose",p1:5,x1:1058,y1:780,l1:110,p2:1,x2:456,y2:336,l2:140},{id:"mineBackpack",p1:0,x1:1160,y1:744,l1:110,p2:3,x2:696,y2:336,l2:220},{id:"mineSwimsuit",p1:0,x1:890,y1:788,l1:110,p2:6,x2:596,y2:336,l2:220},{id:"mineWhose",p1:0,x1:842,y1:768,l1:114,p2:1,x2:454,y2:336,l2:140},{id:"yoursWhose",p1:2,x1:1070,y1:744,l1:112,p2:1,x2:568,y2:336,l2:140}],s=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U7_A1_Instructions.mp3",id:"instructions"},{src:"sounds/wrong.mp3",id:"wrong"}],i.__super__.constructor.call(this,null,t,s)}return s(i,t),i.prototype.setStage=function(){return i.__super__.setStage.apply(this,arguments),this.intento=0,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Read, look and drag the words to complete the sentences.",80,200),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,16,0)),this.setEscena(1).setNube().introEvaluation()},i.prototype.setEscena=function(t){var e,i,s,r,n,a;for(this.library.scene?(this.library.scene.removeAllChildren(),e=this.library.scene):(e=new createjs.Container,e.name="scene",this.addToMain(e)),i=t-1,s=this.createBitmap(this.escenas[i].id,this.escenas[i].id,stageSize.w/2,stageSize.h/2,"mc"),r=new WordContainer("p1","","#eff9fe","#0098d7",this.escenas[i].x1,this.escenas[i].y1,this.escenas[i].l1,60),n=new WordContainer("p2","","#eff9fe","#0098d7",this.escenas[i].x2,this.escenas[i].y2,this.escenas[i].l2,60),r.text.font=n.text.font="40px Quicksand",e.addChild(s,r,n),this.addToLibrary(r,n),i=a=1;9>=a;i=a+=1)this.library["p"+i+"n"]&&this.library["p"+i+"n"].updateDrops(this.library.p1,this.library.p2);return this},i.prototype.setNube=function(){var t,e,i,s,r,n,a,o,h,p,l,c,u;for(e=new createjs.Container,e.x=-20,e.y=25,e.name="nube1",t=this.createBitmap("cloud","cloud",476,824),s=new DroppableText("p1n","mine",0,568,946,this.stage,[this.library.p1,this.library.p2]),r=new DroppableText("p2n","Whose",1,522,1042,this.stage,[this.library.p1,this.library.p2]),n=new DroppableText("p3n","yours",2,694,908,this.stage,[this.library.p1,this.library.p2]),a=new DroppableText("p4n","backpack",3,694,1012,this.stage,[this.library.p1,this.library.p2]),o=new DroppableText("p5n","towel",4,836,862,this.stage,[this.library.p1,this.library.p2]),h=new DroppableText("p6n","his",5,1e3,882,this.stage,[this.library.p1,this.library.p2]),p=new DroppableText("p7n","swimsuit",6,904,946,this.stage,[this.library.p1,this.library.p2]),l=new DroppableText("p8n","toothpaste",7,902,1054,this.stage,[this.library.p1,this.library.p2]),c=new DroppableText("p9n","hers",8,1084,996,this.stage,[this.library.p1,this.library.p2]),e.addChild(t,s,r,n,a,o,h,p,l,c),this.addToLibrary(t,s,r,n,a,o,h,p,l,c),this.addToMain(e),i=u=1;9>=u;i=u+=1)this.library["p"+i+"n"].addEventListener("dropped",this.evaluateAnswer);return this},i.prototype.introEvaluation=function(){return i.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0}),TweenLite.from(this.library.scene,1,{alpha:0,y:this.library.scene.y-20}),TweenLite.from(this.library.nube1,1,{alpha:0,y:this.library.nube1.y-20,ease:Quart.easeOut,delay:.5,onComplete:this.playInstructions,onCompleteParams:[this]})},i.prototype.initEvaluation=function(){var t,e,s;for(i.__super__.initEvaluation.apply(this,arguments),s=[],t=e=1;9>=e;t=e+=1)s.push(this.library["p"+t+"n"].initDragListener());return s},i.prototype.evaluateAnswer=function(t){return this.answer=t.target,this.drop=t.drop,this.answer.index===this.escenas[this.index][t.drop.name]?(this.answer.visible=!1,this.drop.changeText(this.answer.text.text),this.finishEvaluation(),createjs.Sound.play("good"),0===this.intento&&this.library.score.plusOne(),this.intento=0):(this.warning(),this.intento=1,this.answer.returnToPlace())},i.prototype.finishEvaluation=function(){return""!==this.library.p1.text.text&&""!==this.library.p2.text.text?setTimeout(this.clearEvaluation,1e3):void 0},i.prototype.clearEvaluation=function(){var t,e;for(t=e=1;9>=e;t=e+=1)this.library["p"+t+"n"].visible=!0,this.library["p"+t+"n"].returnToPlace();return this.library.p1.changeText(""),this.library.p2.changeText(""),TweenLite.to(this.library.scene,.5,{alpha:0,ease:Back.easeOut,onComplete:this.nextEvaluation})},i.prototype.nextEvaluation=function(){return this.index++,this.intento=0,this.index<this.escenas.length?(this.setEscena(this.index+1),TweenLite.to(this.library.scene,.5,{alpha:1,ease:Back.easeOut})):this.finish()},i.prototype.finish=function(){return TweenLite.to(this.library.nube1,1,{alpha:0,y:this.library.nube1.y-20,ease:Quart.easeOut}),i.__super__.finish.apply(this,arguments)},window.U7A1=i,i}(Oda)}).call(this);