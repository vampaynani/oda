(function(){var i,e=function(i,e){return function(){return i.apply(e,arguments)}},r={}.hasOwnProperty,t=function(i,e){function t(){this.constructor=i}for(var a in e)r.call(e,a)&&(i[a]=e[a]);return t.prototype=e.prototype,i.prototype=new t,i.__super__=e.prototype,i};i=function(i){function r(){this.repeatSound=e(this.repeatSound,this),this.nextEvaluation=e(this.nextEvaluation,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.evaluateDrop=e(this.evaluateDrop,this),this.initEvaluation=e(this.initEvaluation,this);var i,t;i=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"btnfinished",src:"btn_finished.png"},{id:"btnrepeat",src:"btn_repeat.png"},{id:"pizarra",src:"pizarra.png"},{id:"boydragblebiking",src:"boy/dragble_biking.png"},{id:"boydragblecanoeing",src:"boy/dragble_canoeing.png"},{id:"boydragbleclean",src:"boy/dragble_clean.png"},{id:"boydragblefishing",src:"boy/dragble_fishing.png"},{id:"boydragbleread",src:"boy/dragble_read.png"},{id:"boydragbleriding",src:"boy/dragble_riding.png"},{id:"boypropbaseball",src:"boy/prop_baseball.png"},{id:"boypropbasketball",src:"boy/prop_basketball.png"},{id:"boypropswimming",src:"boy/prop_swimming.png"},{id:"boyproptennis",src:"boy/prop_tennis.png"},{id:"boy",src:"boy/prop_boy.png"},{id:"girldragblecanoeing",src:"girl/dragble_canoeing.png"},{id:"girldragblefishing",src:"girl/dragble_fishing.png"},{id:"girldragblehiking",src:"girl/dragble_hiking.png"},{id:"girldragblesoccer",src:"girl/dragble_soccer.png"},{id:"girldragbleswimming",src:"girl/dragble_swimming.png"},{id:"girldragblevolleyball",src:"girl/dragble_volleyball.png"},{id:"girlpropclean",src:"girl/prop_clean.png"},{id:"girlproprest",src:"girl/prop_rest.png"},{id:"girlpropriding",src:"girl/prop_riding.png"},{id:"girlproptennis",src:"girl/prop_tennis.png"},{id:"girl",src:"girl/prop_girl.png"}],t=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U7_A2_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U7_A2_schedule1.mp3",id:"sche1"},{src:"sounds/TU2_U7_A2_schedule2.mp3",id:"sche2"}],this.game={actividades:{boy:["boypropbaseball","boydragbleclean","boydragbleread","boypropbasketball","boyproptennis","boydragblecanoeing","boypropswimming","boydragbleriding","boydragblebiking","boydragblefishing"],boydrags:["boydragbleclean","boydragbleread","boydragblecanoeing","boydragbleriding","boydragblebiking","boydragblefishing"],girl:["girldragbleswimming","girldragblehiking","girldragblesoccer","girlpropclean","girldragblecanoeing","girlpropriding","girlproprest","girldragblevolleyball","girldragblefishing","girlproptennis"],girldrags:["girldragbleswimming","girldragblehiking","girldragblesoccer","girldragblecanoeing","girldragblevolleyball","girldragblefishing"]}},r.__super__.constructor.call(this,null,i,t)}return t(r,i),r.prototype.setStage=function(){return r.__super__.setStage.apply(this,arguments),this.actividades=this.game.actividades,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Listen and drag the icons to the correct place on the schedule.",80,200),this.insertBitmap("btnRepeat","btnrepeat",1300,734),this.insertBitmap("btnFinished","btnfinished",1300,828),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,12,0)),this.setPizarra(1).introEvaluation()},r.prototype.setPizarra=function(i){var e,r,t,a,s,n,l,d,o,g,h,p,c;for(this.schedule=i,o=new createjs.Container,o.name="pizarra",o.x=122,o.y=206,t=this.createBitmap("pizarra","pizarra",334,62),1===i?(s=this.createBitmap("girl","girl",118,760,"bl"),n=this.actividades.girl,this.drags=this.actividades.girldrags):(s=this.createBitmap("boy","boy",118,760,"bl"),n=this.actividades.boy,this.drags=this.actividades.boydrags),r=new createjs.Container,r.name="actividades",r.x=718,r.y=226,this.addToLibrary(r),d=g=0,p=n.length-1;p>=0?p>=g:g>=p;d=p>=0?++g:--g)a=new createjs.Container,a.name="cont"+d,5>d?a.y=98*d:(a.x=270,a.y=98*(d-5)),1===i?0===d||1===d||2===d||4===d||7===d||8===d?(l=new createjs.Shape,l.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-50,-50,180,110),this.setReg(l,40,-40),a.addChild(l)):(e=this.createBitmap(n[d],n[d],0,0,"tc"),e.scaleX=e.scaleY=80/e.image.height,a.addChild(e)):1===d||2===d||5===d||7===d||8===d||9===d?(l=new createjs.Shape,l.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-50,-50,180,110),this.setReg(l,40,-40),a.addChild(l)):(e=this.createBitmap(n[d],n[d],0,0,"tc"),e.scaleX=e.scaleY=80/e.image.height,a.addChild(e)),this.addToLibrary(a),r.addChild(a);for(o.addChild(t,s,r),d=h=0,c=this.drags.length-1;c>=0?c>=h:h>=c;d=c>=0?++h:--h)a=d%2===0?new Droppable(""+this.drags[d],this.preload.getResult(this.drags[d]),d,200*d+100,880,this.stage,r.children):new Droppable(""+this.drags[d],this.preload.getResult(this.drags[d]),d,200*d+100,800,this.stage,r.children),a.scaleX=a.scaleY=.9,this.addToLibrary(a),o.addChild(a);return this.addToMain(o),this},r.prototype.introEvaluation=function(){return r.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y-5,delay:.5}),TweenLite.from(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y-5,delay:.5}),TweenLite.from(this.library.pizarra,1,{alpha:0,y:this.library.pizarra.y+40,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},r.prototype.initEvaluation=function(){var i,e,t;for(r.__super__.initEvaluation.apply(this,arguments),i=e=0,t=this.drags.length-1;t>=0?t>=e:e>=t;i=t>=0?++e:--e)this.library[""+this.drags[i]].initDragListener(),this.library[""+this.drags[i]].addEventListener("dropped",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.play("sche"+this.schedule)},r.prototype.evaluateDrop=function(i){var e;return this.answer=i.target,this.drop=i.drop,this.answer.visible=!1,e=this.createBitmap(this.answer.name,this.answer.name,0,40),e.hitter=this.answer,e.addEventListener("mousedown",function(i){var e;return e=i.currentTarget,e.addEventListener("pressmove",function(){var i;if(e.hitter){for(e.removeAllEventListeners(),i=e.parent;i.children.length>1;)i.removeChildAt(i.children.length-1);return e.hitter.visible=!0,e.hitter.returnToPlace()}})}),e.scaleX=e.scaleY=.6,this.setReg(e,e.width/2,e.height/2),this.drop.addChild(e)},r.prototype.evaluateAnswer=function(){var i,e,r,t;for(this.library.btnRepeat.removeEventListener("click",this.repeatSound),this.library.btnFinished.removeEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),i=1===this.schedule?this.actividades.girl:this.actividades.boy,e=r=0,t=i.length-1;t>=r;e=r+=1)this.library["cont"+e].children.length>1&&this.library["cont"+e].children[1].name===i[e]&&(this.blink(this.library["cont"+e]),this.library.score.plusOne());return setTimeout(this.finishEvaluation,4e3)},r.prototype.finishEvaluation=function(){return TweenLite.to(this.library.pizarra,1,{alpha:0,y:this.library.pizarra.y+40,onComplete:this.nextEvaluation})},r.prototype.nextEvaluation=function(){var i,e,r;if(this.index++,this.index<2){for(this.setPizarra(this.index+1),i=e=0,r=this.drags.length-1;r>=0?r>=e:e>=r;i=r>=0?++e:--e)this.library[""+this.drags[i]].initDragListener(),this.library[""+this.drags[i]].addEventListener("dropped",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),createjs.Sound.play("sche"+this.schedule)}return this.finish()},r.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("sche"+this.schedule)},r.prototype.finish=function(){return TweenLite.to(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y-10}),TweenLite.to(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y-10}),r.__super__.finish.apply(this,arguments)},window.U7A2=r,r}(Oda)}).call(this);