(function(){var t,i=function(t,i){return function(){return t.apply(i,arguments)}},e={}.hasOwnProperty,s=function(t,i){function s(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return s.prototype=i.prototype,t.prototype=new s,t.__super__=i.prototype,t};t=function(t){function e(){this.repeat=i(this.repeat,this),this.showPhrase=i(this.showPhrase,this),this.nextEvaluation=i(this.nextEvaluation,this),this.finishEvaluation=i(this.finishEvaluation,this),this.evaluateAnswer=i(this.evaluateAnswer,this),this.initEvaluation=i(this.initEvaluation,this);var t,s;t=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"teacher",src:"prop_bg.png"},{id:"repeat",src:"repeat-btn.png"},{id:"animals1",src:"animals.png"},{id:"animals2",src:"animals.png"},{id:"art1",src:"art.png"},{id:"art2",src:"art.png"},{id:"cellphone1",src:"cellphone.png"},{id:"cellphone2",src:"cellphone.png"},{id:"drink1",src:"drink.png"},{id:"drink2",src:"drink.png"},{id:"fish1",src:"fish.png"},{id:"fish2",src:"fish.png"},{id:"line1",src:"line.png"},{id:"line2",src:"line.png"},{id:"pictures1",src:"pictures.png"},{id:"pictures2",src:"pictures.png"},{id:"run1",src:"run.png"},{id:"run2",src:"run.png"},{id:"trash1",src:"trash.png"},{id:"trash2",src:"trash.png"}],s=[{src:"sounds/TU3_U1_A1_instructions.mp3",id:"instructions"},{src:"sounds/TU3_U1_A1_dontTouch.mp3",id:"sart"},{src:"sounds/TU3_U1_A1_dontTakePictures.mp3",id:"spictures"},{src:"sounds/TU3_U1_A1_dontFeed.mp3",id:"sanimals"},{src:"sounds/TU3_U1_A1_dontCut.mp3",id:"sline"},{src:"sounds/TU3_U1_A1_dontEat.mp3",id:"sdrink"},{src:"sounds/TU3_U1_A1_dontScare.mp3",id:"sfish"},{src:"sounds/TU3_U1_A1_dontUseCell.mp3",id:"scellphone"},{src:"sounds/TU3_U1_A1_dontThrow.mp3",id:"strash"},{src:"sounds/TU3_U1_A1_dontRun.mp3",id:"srun"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/good.mp3",id:"good"}],this.game={answers:[{id:"animals",a:!1},{id:"art",a:!1},{id:"cellphone",a:!1},{id:"drink",a:!1},{id:"fish",a:!1},{id:"line",a:!1},{id:"pictures",a:!1},{id:"run",a:!1},{id:"trash",a:!1}]},e.__super__.constructor.call(this,null,t,s)}return s(e,t),e.prototype.setStage=function(){var t,i,s,r;for(e.__super__.setStage.apply(this,arguments),this.answers=this.game.answers.slice(0),r=this.answers,i=0,s=r.length;s>i;i++)t=r[i],t.a=!1;return this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Listen and click on the correct picture.",40,100),this.insertBitmap("teacher","teacher",stageSize.w/2,124,"tc"),this.insertBitmap("repeat","repeat",stageSize.w/2,310,"tc"),this.insertSprite("choose1",["animals1","art1","cellphone1","drink1","fish1","line1","pictures1","run1","trash1"],{animals:0,art:1,cellphone:2,drink:3,fish:4,line:5,pictures:6,run:7,trash:8},285,452,"mc"),this.insertSprite("choose2",["animals2","art2","cellphone2","drink2","fish2","line2","pictures2","run2","trash2"],{animals:0,art:1,cellphone:2,drink:3,fish:4,line:5,pictures:6,run:7,trash:8},520,452,"mc"),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),20,500,9,0)),this.library.score.txtCount.color="#bfd951",this.library.score.txtTotal.color="#ff9933",this.introEvaluation()},e.prototype.introEvaluation=function(){return e.__super__.introEvaluation.apply(this,arguments),this.library.choose1.alpha=0,this.library.choose1.scaleX=this.library.choose1.scaleY=.3,this.library.choose2.alpha=0,this.library.choose2.scaleX=this.library.choose2.scaleY=.3,TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.teacher,1,{alpha:0,y:this.library.teacher.y+50,delay:1}),TweenLite.from(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+50,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},e.prototype.initEvaluation=function(){return e.__super__.initEvaluation.apply(this,arguments),this.showPhrase(),this.library.choose1.addEventListener("click",this.evaluateAnswer),this.library.choose2.addEventListener("click",this.evaluateAnswer),this.library.repeat.addEventListener("click",this.repeat)},e.prototype.evaluateAnswer=function(t){var i;return this.answer=t.target,i=this.answers.where({id:this.phrase.id}),i[0].a=!0,this.phrase.id===this.answer.currentAnimation?(createjs.Sound.play("good"),this.library.score.plusOne(),this.library.choose1.removeEventListener("click",this.evaluateAnswer),this.library.choose2.removeEventListener("click",this.evaluateAnswer)):this.warning(),setTimeout(this.finishEvaluation,1e3)},e.prototype.finishEvaluation=function(){return TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:0,scaleX:.3,scaleY:.3,ease:Elastic.easeOut,onComplete:this.nextEvaluation})},e.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers.length?this.showPhrase():this.finish()},e.prototype.showPhrase=function(){var t,i,e,s,r=this;return s=Math.random()>.5?1:2,i=1===s?2:1,this.phrase=this.getPhrase(),e=this.answers.filter(function(t){return t.id!==r.phrase.id}),t=Math.floor(Math.random()*e.length),console.log(this.phrase.id,e[t].id),this.library["choose"+s].gotoAndStop(this.phrase.id),this.library["choose"+i].gotoAndStop(e[t].id),console.log("s"+this.phrase.id),createjs.Sound.play("s"+this.phrase.id),this.library.choose1.addEventListener("click",this.evaluateAnswer),this.library.choose2.addEventListener("click",this.evaluateAnswer),TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:1,scaleX:1,scaleY:1,ease:Elastic.easeOut})},e.prototype.getPhrase=function(){var t,i;return i=this.answers.filter(function(t){return t.a===!1}),t=Math.floor(Math.random()*i.length),i[t]},e.prototype.repeat=function(){return createjs.Sound.stop(),createjs.Sound.play("s"+this.phrase.id)},e.prototype.shuffle=function(t){var i,e,s,r,a,n;for(n=[],i=s=r=t.length;1>=r?1>=s:s>=1;i=1>=r?++s:--s)e=Math.floor(Math.random()*(i+1)),n.push((a=[t[e],t[i]],t[i]=a[0],t[e]=a[1],a));return n},e.prototype.blink=function(t,i){return null==i&&(i=!0),TweenMax.killTweensOf(t),t.alpha=1,i?TweenMax.to(t,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},e.prototype.finish=function(){return TweenLite.to(this.library.teacher,1,{alpha:0,y:this.library.teacher.y+50,delay:.1}),TweenLite.to(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+50,delay:.1}),e.__super__.finish.apply(this,arguments)},window.U1A1=e,e}(Oda)}).call(this);