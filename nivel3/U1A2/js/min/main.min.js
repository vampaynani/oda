(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,s=function(t,e){function s(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};t=function(t){function i(){this.repeatSound=e(this.repeatSound,this),this.nextEvaluation=e(this.nextEvaluation,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.evaluateClick=e(this.evaluateClick,this),this.initEvaluation=e(this.initEvaluation,this);var t,s;t=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"ticketArt",src:"ticket_art.png"},{id:"ticketBug",src:"ticket_bug.png"},{id:"ticketDinosaur",src:"ticket_dinosaur.png"},{id:"ticketDolphin",src:"ticket_dolphin.png"},{id:"ticketElephant",src:"ticket_elephant.png"},{id:"ticketPiano",src:"ticket_piano.png"},{id:"ticketPuppet",src:"ticket_puppet.png"},{id:"ticketSpace",src:"ticket_space.png"}],s=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU3_U1_A2_instructions.mp3",id:"instructions"},{src:"sounds/TU3_U1_A2_instructions2.mp3",id:"instructions2"},{src:"sounds/TU3_U1_A2_art.mp3",id:"sticketArt"},{src:"sounds/TU3_U1_A2_bug.mp3",id:"sticketBug"},{src:"sounds/TU3_U1_A2_dinosaur.mp3",id:"sticketDinosaur"},{src:"sounds/TU3_U1_A2_dolphin.mp3",id:"sticketDolphin"},{src:"sounds/TU3_U1_A2_elephant.mp3",id:"sticketElephant"},{src:"sounds/TU3_U1_A2_piano.mp3",id:"sticketPiano"},{src:"sounds/TU3_U1_A2_puppet.mp3",id:"sticketPuppet"},{src:"sounds/TU3_U1_A2_space.mp3",id:"sticketSpace"}],this.game={tickets:[{id:"ticketArt",x:315,y:178,questions:[{q:"Where's the event?",a1:"It's at the Art Museum.",a2:"It's at the Art Gallery.",s:"a2"},{q:"What time does it start?",a1:"It starts at nine o'clock.",a2:"It starts at one o'clock.",s:"a1"}]},{id:"ticketBug",x:549,y:178,questions:[{q:"How much does it cost?",a1:"It cost nine dollars.",a2:"It cost nineteen dollars.",s:"a1"},{q:"What time does it open?",a1:"It opens at three thirty.",a2:"It opens at eleven thirty.",s:"a2"}]},{id:"ticketDinosaur",x:209,y:284,questions:[{q:"How much does it cost?",a1:"It costs twenty dollars.",a2:"It costs twelve dollars.",s:"a2"},{q:"What time does it close?",a1:"It closes at six o'clock.",a2:"It closes at ten o'clock.",s:"a1"}]},{id:"ticketDolphin",x:425,y:319,questions:[{q:"How much does it cost?",a1:"It costs nine dollars.",a2:"It costs nineteen dollars.",s:"a1"},{q:"What time does it start?",a1:"It starts at three thirty.",a2:"It starts at three o'clock.",s:"a1"}]},{id:"ticketElephant",x:638,y:284,questions:[{q:"What time does it start?",a1:"The show starts at two o'clock.",a2:"It starts at twelve o'clock.",s:"a1"},{q:"How much does it cost?",a1:"It costs sixteen dollars.",a2:"It costs eight dollars.",s:"a2"}]},{id:"ticketPiano",x:205,y:414,questions:[{q:"What time does it start?",a1:"It starts at eleven o'clock at night.",a2:"It starts at eleven o'clock in the morning.",s:"a2"},{q:"How much does it cost?",a1:"It costs fifty dollars.",a2:"It costs fifteen dollars.",s:"a2"}]},{id:"ticketPuppet",x:423,y:452,questions:[{q:"Where's the event?",a1:"It's at the theater.",a2:"It's at the children's museum.",s:"a1"},{q:"What time does it start?",a1:"It starts at two o'clock.",a2:"It starts at three o'clock.",s:"a2"}]},{id:"ticketSpace",x:641,y:414,questions:[{q:"Where's the event?",a1:"It's at the theater.",a2:"It's at the science museum.",s:"a2"},{q:"What time does it cost?",a1:"It costs fourteen dollars.",a2:"It costs forty dollars.",s:"a1"}]}]},i.__super__.constructor.call(this,null,t,s)}return s(i,t),i.prototype.setStage=function(){return i.__super__.setStage.apply(this,arguments),this.current=this.shuffle(this.game.tickets),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Listen and click on the correct ticket.",40,100),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),20,500,16,0)),this.library.score.txtCount.color="#bfd951",this.library.score.txtTotal.color="#ff9933",this.setTickets().introEvaluation()},i.prototype.setTickets=function(){var t,e,i,s,n,a;for(i=this.library.tickets?this.library.tickets:new createjs.Container,i.removeAllChildren(),i.name="tickets",i.alpha=1,t=n=0,a=this.current.length-1;a>=n;t=n+=1)s=this.createBitmap(this.current[t].id,this.current[t].id,this.current[t].x,this.current[t].y,"mc"),s.scaleX=s.scaleY=.25,i.addChild(s),this.addToLibrary(s);return e=this.createBitmap("repeat","repeatbtn",stageSize.w/2,530,"tc"),e.addEventListener("click",this.repeatSound),i.addChild(e),this.addToMain(i),this},i.prototype.setTicketQuestion=function(){var t,e,i,s,n,a,r,o,c;return this.library.question?(n=this.library.question,n.alpha=1):(n=new createjs.Container,n.name="question"),n.removeAllChildren(),c=this.createBitmap("qticket",this.current[this.index].id,stageSize.w/2,stageSize.h/2-30,"mc"),c.scaleX=c.scaleY=.5,n.addChild(c),t=this.current[this.index].questions[this.questionIndex],a=new createjs.Text(t.q,"24px Quicksand","#333"),a.x=stageSize.w/2,a.y=400,a.textAlign="center",n.addChild(a),s=new createjs.Container,s.y=430,o=new ClickableText("a1",t.a1,"a1",0,0),s.addChild(o),e=new createjs.Text("/","16px Quicksand","#333"),e.x=o.x+o.width,s.addChild(e),i=new ClickableText("a2",t.a2,"a2",e.x+10,0),s.addChild(i),r=o.width+i.width+20,s.x=stageSize.w/2-r/2,n.addChild(s),this.addToLibrary(o,i),this.addToMain(n),TweenLite.from(this.library.question,.5,{alpha:0,y:-this.library.question.y+20}),TweenLite.to(this.library.tickets,.5,{alpha:0,y:-this.library.tickets.y+20}),this},i.prototype.initOptionListeners=function(){return this.library.a1.addEventListener("click",this.evaluateAnswer),this.library.a2.addEventListener("click",this.evaluateAnswer)},i.prototype.introEvaluation=function(){return i.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.tickets,1,{alpha:0,y:this.library.tickets.y+20,delay:.5,onComplete:this.playInstructions,onCompleteParams:[this]})},i.prototype.initEvaluation=function(){var t,e,s;for(i.__super__.initEvaluation.apply(this,arguments),t=e=0,s=this.current.length-1;s>=e;t=e+=1)this.library[this.current[t].id].addEventListener("click",this.evaluateClick);return createjs.Sound.play("s"+this.current[this.index].id)},i.prototype.evaluateClick=function(t){return t.target.name===this.current[this.index].id?(createjs.Sound.stop(),this.library.instructions.children[1].text="Read and click on the correct answers.",this.index<1?createjs.Sound.play("instructions2"):createjs.Sound.play("good"),this.questionIndex=0,this.setTicketQuestion().initOptionListeners()):this.warning()},i.prototype.evaluateAnswer=function(t){return this.answer=t.currentTarget,this.answer.index===this.current[this.index].questions[this.questionIndex].s?(createjs.Sound.play("good"),this.library.score.plusOne()):this.warning(),setTimeout(this.finishEvaluation,1e3)},i.prototype.finishEvaluation=function(){return this.questionIndex++,this.questionIndex<this.current[this.index].questions.length?this.setTicketQuestion().initOptionListeners():this.nextEvaluation()},i.prototype.nextEvaluation=function(){var t,e,i;if(this.index++,this.index<this.current.length){for(this.library.instructions.children[1].text="Listen and click on the correct ticket.",this.setTickets(),t=e=0,i=this.current.length-1;i>=e;t=e+=1)this.library[this.current[t].id].addEventListener("click",this.evaluateClick);return TweenLite.to(this.library.question,.5,{alpha:0,y:-this.library.question.y+20}),TweenLite.to(this.library.tickets,.5,{alpha:1,y:0}),createjs.Sound.play("s"+this.current[this.index].id)}return this.finish()},i.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("s"+this.current[this.index].id)},i.prototype.finish=function(){return TweenLite.to(this.library.question,.5,{alpha:0,y:-this.library.question.y+20}),i.__super__.finish.apply(this,arguments)},window.U1A2=i,i}(Oda)}).call(this);