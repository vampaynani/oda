(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,s=function(t,e){function s(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};t=function(t){function i(){this.finish=e(this.finish,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.initEvaluation=e(this.initEvaluation,this);var t,s;t=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"bg",src:"bg.png"},{id:"btnnext",src:"btn_next.png"},{id:"btnrepeat",src:"btn_repeat.png"},{id:"scene1",src:"scene_1.png"},{id:"scene2",src:"scene_2.png"},{id:"scene3",src:"scene_3.png"},{id:"scene4",src:"scene_4.png"},{id:"scene5",src:"scene_5.png"},{id:"scene6",src:"scene_6.png"}],s=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU3_U7_A5_instructions.mp3",id:"instructions"}],this.game=[{texts:[{idx:10,t:"landed",x:271,y:495},{idx:1,t:"believed",x:187,y:495},{idx:2,t:"found",x:498,y:533},{idx:7,t:"exploded",x:404,y:533},{idx:3,t:"invented",x:314,y:533},{idx:4,t:"made",x:491,y:495},{idx:5,t:"used",x:256,y:533},{idx:9,t:"killed",x:347,y:495},{idx:6,t:"carried",x:179,y:533},{idx:8,t:"caused",x:413,y:495}],text:[{questions:[{q:"1. What instrument did Aniz play?",a:"He played the flute."},{q:"2. Who listened to Aniz?",a:"Other people and his sheep."},{q:"3. Who didn't like Aniz music?",a:"The landlord."}]},{questions:[{q:"4. How did Aniz fell?",a:"He was very sad."},{q:"5. Who made Aniz a new flute?",a:"A kind old man."},{q:"6. Where did they find bamboo?",a:"In a market."}]},{questions:[{q:"7. What did the landlord dream about?",a:"A rabbit."},{q:"8. What was different about the rabbit?",a:"It had a black spot on its head."},{q:"9. What did the landlord want his sons to do?",a:"To catch the rabbit."}]},{questions:[{q:"10. Who did the oldest son talk to first?",a:"To the kind old man."},{q:"11. Why did the rabbit come out of the forest?",a:"Aniz played a beautiful song."},{q:"12. How did the rabbit escape?",a:"It jumped out of the bag."}]},{questions:[{q:"13. What mistake did the sons make?",a:"They looked in the bag."},{q:"14. How many people went looking for the rabbit?",a:"Four."},{q:"15. Who did the landlor see in the forest?",a:"Aniz."}]},{questions:[{q:"16. What was the shadows?",a:"Bears, tigers and wolves."},{q:"17. What were they doing?",a:"They were listening to Aniz."},{q:"18. Why did the landlord promise to be kind?",a:"He was afraid of the animals."}]}]}],this.answers=[],i.__super__.constructor.call(this,null,t,s)}return s(i,t),i.prototype.setStage=function(){return i.__super__.setStage.apply(this,arguments),this.intento=0,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Complete the text with the verbs.",40,100),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),20,500,8,0)),this.library.score.txtCount.color="#BFD951",this.library.score.txtTotal.color="#0096DB",this.setCuento(1)},i.prototype.setCuento=function(t){var e,i,s,n,a,r,o,h,d,l,c,u;return o=new createjs.Container,o.name="cuento",this.scene=t,h=this.createBitmap("bg","bg",stageSize.w/2,0,"tc"),r=this.createSprite("cuento",["scene1","scene2","scene3","scene4","scene5","scene6"],null,stageSize.w/2,170,"tc"),n=this.createBitmap("btnrepeat","btnrepeat",stageSize.w/2,570,"mc"),a=this.createBitmap("btnnext","btnnext",stageSize.w/2+100,570,"mc"),this.addToLibrary(o),o.addChild(h,r,n,a),d=new createjs.Container,d.x=180,d.y=445,l=new ClickableText("q1",this.game[0].text[t-1].questions[0].q,0,0,0),c=new ClickableText("q2",this.game[0].text[t-1].questions[1].q,1,0,25),u=new ClickableText("q3",this.game[0].text[t-1].questions[2].q,2,0,50),e=new ClickableText("a1",this.game[0].text[t-1].questions[0].a,0,300,0),i=new ClickableText("a2",this.game[0].text[t-1].questions[1].a,1,300,25),s=new ClickableText("a3",this.game[0].text[t-1].questions[2].a,2,300,50),l.text.font=c.text.font=u.text.font="12px Quicksand",e.text.font=i.text.font=s.text.font="12px Quicksand",d.addChild(l,c,u),d.addChild(e,i,s),o.addChild(d),this.addToMain(o),this},i.prototype.introEvaluation=function(){var t,e,s;for(i.__super__.introEvaluation.apply(this,arguments),t=e=1,s=this.game[this.scene-1].texts.length;s>=e;t=e+=1)this.observer.subscribe("init_evaluation",this.library["t"+t].onInitEvaluation);return TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.cuento,1,{alpha:0,y:this.library.cuento.y+20,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},i.prototype.initEvaluation=function(){var t,e,s,n;for(i.__super__.initEvaluation.apply(this,arguments),createjs.Sound.play("scene"+this.scene),n=[],t=e=1,s=this.game[this.scene-1].texts.length;s>=e;t=e+=1)n.push(this.library["t"+t].addEventListener("click",this.evaluateAnswer));return n},i.prototype.evaluateAnswer=function(t){var e,i,s,n,a,r,o;for(this.answer=t.target,e=!1,o=[],i=n=1,a=this.game[this.scene-1].positions.length;a>=n;i=n+=1)s=this.library["hsc"+i].globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library["hsc"+i].hitTest(s.x,s.y)?this.answer.index===this.library["hsc"+i].index?(this.library["sc"+i].currentFrame=this.answer.p?1===(r=this.library["sc"+i].currentFrame)||2===r?3:"p1"===this.answer.p?1:2:1,this.answer.visible=!1,createjs.Sound.play("good"),0===this.intento&&this.library.score.plusOne(),this.intento=0,o.push(this.finishEvaluation())):(this.intento=1,this.warning(),o.push(this.answer.returnToPlace())):o.push(this.answer.returnToPlace());return o},i.prototype.finishEvaluation=function(){var t,e,i;for(t=e=1,i=this.game[this.scene-1].positions.length;i>=e;t=e+=1)if(this.library["sc"+t].currentFrame!==this.library["sc"+t].spriteSheet._frames.length-1)return;return this.finish()},i.prototype.finish=function(){return createjs.Sound.stop(),createjs.Sound.play("good"),TweenLite.to(this.library.cuento,1,{alpha:0,y:this.library.cuento.y+10}),TweenLite.to(this.library.bg,1,{alpha:0}),i.__super__.finish.apply(this,arguments)},window.U7A5=i,i}(Oda)}).call(this);