(function(){var t,i=function(t,i){return function(){return t.apply(i,arguments)}},e={}.hasOwnProperty,n=function(t,i){function n(){this.constructor=t}for(var a in i)e.call(i,a)&&(t[a]=i[a]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};t=function(t){function e(){this.nextEvaluation=i(this.nextEvaluation,this),this.clearEvaluation=i(this.clearEvaluation,this),this.finishEvaluation=i(this.finishEvaluation,this),this.evaluateAnswer=i(this.evaluateAnswer,this),this.initEvaluation=i(this.initEvaluation,this);var t,n;t=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"cloud",src:"tag_verb.png"},{id:"candance",src:"can-dance.png"},{id:"caneat",src:"can-eat.png"},{id:"canfly",src:"can-fly.png"},{id:"cantfind",src:"cant-find.png"},{id:"cantgo",src:"cant-go.png"},{id:"cantplay",src:"cant-play.png"},{id:"couldeat",src:"could-eat.png"},{id:"couldgo",src:"could-go.png"},{id:"couldplay",src:"could-play.png"},{id:"couldntdance",src:"couldnt-dance.png"},{id:"couldnteat",src:"couldnt-eat.png"},{id:"couldntfly",src:"couldnt-fly.png"}],this.escenas=[{id:"couldplay",p1:3,x1:206,y1:400,l1:72,p2:10,x2:282,y2:400,l2:67},{id:"cantplay",p1:2,x1:268,y1:400,l1:67,p2:10,x2:340,y2:400,l2:67},{id:"couldeat",p1:3,x1:270,y1:400,l1:67,p2:9,x2:345,y2:400,l2:50},{id:"couldgo",p1:3,x1:359,y1:368,l1:71,p2:6,x2:435,y2:368,l2:42},{id:"cantgo",p1:2,x1:290,y1:400,l1:67,p2:6,x2:362,y2:400,l2:40},{id:"couldntdance",p1:4,x1:310,y1:400,l1:100,p2:5,x2:413,y2:400,l2:80},{id:"candance",p1:1,x1:225,y1:400,l1:50,p2:5,x2:280,y2:400,l2:80},{id:"couldnteat",p1:4,x1:386,y1:368,l1:100,p2:9,x2:490,y2:368,l2:50},{id:"caneat",p1:1,x1:225,y1:400,l1:50,p2:9,x2:280,y2:400,l2:50},{id:"couldntfly",p1:4,x1:497,y1:400,l1:100,p2:8,x2:605,y2:400,l2:40},{id:"canfly",p1:1,x1:275,y1:400,l1:50,p2:8,x2:330,y2:400,l2:50},{id:"cantfind",p1:2,x1:210,y1:400,l1:67,p2:11,x2:280,y2:400,l2:60}],n=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU3_U7_A2_Instructions.mp3",id:"instructions"},{src:"sounds/wrong.mp3",id:"wrong"}],e.__super__.constructor.call(this,null,t,n)}return n(e,t),e.prototype.setStage=function(){return e.__super__.setStage.apply(this,arguments),this.intento=0,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Look at the images and drag the missing words.",40,100),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),20,500,24,0)),this.library.score.txtCount.color="#BFD951",this.library.score.txtTotal.color="#0096DB",this.setEscena(1).setNube().introEvaluation()},e.prototype.setEscena=function(t){var i,e,n,a,s,r;for(this.library.scene?(this.library.scene.removeAllChildren(),i=this.library.scene):(i=new createjs.Container,i.name="scene",this.addToMain(i)),e=t-1,n=this.createBitmap(this.escenas[e].id,this.escenas[e].id,stageSize.w/2,stageSize.h/2-10,"mc"),n.scaleX=n.scaleY=.75,a=new WordContainer("p1","","#eff9fe","#0098d7",this.escenas[e].x1,this.escenas[e].y1,this.escenas[e].l1,30),s=new WordContainer("p2","","#eff9fe","#0098d7",this.escenas[e].x2,this.escenas[e].y2,this.escenas[e].l2,30),a.text.font=s.text.font="20px Quicksand",i.addChild(n,a,s),this.addToLibrary(a,s),e=r=1;11>=r;e=r+=1)this.library["p"+e+"n"]&&this.library["p"+e+"n"].updateDrops(this.library.p1,this.library.p2);return this},e.prototype.setNube=function(){var t,i,e,n,a,s,r,l,o,p,h,c,d,u,y,b;for(e=new createjs.Container,e.x=136,e.y=462,e.name="nube1",t=this.createBitmap("cloud","cloud",0,0),i=this.createBitmap("cloud","cloud",317,0),r=new DroppableText("p1n","can",1,42,26,this.stage,[this.library.p1,this.library.p2]),l=new DroppableText("p2n","can't",2,49,49,this.stage,[this.library.p1,this.library.p2]),o=new DroppableText("p3n","could",3,119,26,this.stage,[this.library.p1,this.library.p2]),p=new DroppableText("p4n","couldn't",4,144,51,this.stage,[this.library.p1,this.library.p2]),h=new DroppableText("p5n","dance",5,349,21,this.stage,[this.library.p1,this.library.p2]),c=new DroppableText("p6n","go",6,421,37,this.stage,[this.library.p1,this.library.p2]),d=new DroppableText("p7n","catch",7,460,16,this.stage,[this.library.p1,this.library.p2]),u=new DroppableText("p8n","fly",8,342,47,this.stage,[this.library.p1,this.library.p2]),y=new DroppableText("p9n","eat",9,382,60,this.stage,[this.library.p1,this.library.p2]),a=new DroppableText("p10n","play",10,460,62,this.stage,[this.library.p1,this.library.p2]),s=new DroppableText("p11n","find",11,510,43,this.stage,[this.library.p1,this.library.p2]),e.addChild(t,i,r,l,o,p,h,c,d,u,y,a,s),this.addToLibrary(t,i,r,l,o,p,h,c,d,u,y,a,s),this.addToMain(e),n=b=1;11>=b;n=b+=1)this.library["p"+n+"n"].addEventListener("dropped",this.evaluateAnswer);return this},e.prototype.introEvaluation=function(){return e.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0}),TweenLite.from(this.library.scene,1,{alpha:0,y:this.library.scene.y-10}),TweenLite.from(this.library.nube1,1,{alpha:0,y:this.library.nube1.y-10,ease:Quart.easeOut,delay:.5,onComplete:this.playInstructions,onCompleteParams:[this]})},e.prototype.initEvaluation=function(){var t,i,n;for(e.__super__.initEvaluation.apply(this,arguments),n=[],t=i=1;11>=i;t=i+=1)n.push(this.library["p"+t+"n"].initDragListener());return n},e.prototype.evaluateAnswer=function(t){return this.answer=t.target,this.drop=t.drop,this.answer.index===this.escenas[this.index][t.drop.name]?(this.answer.visible=!1,this.drop.changeText(this.answer.text.text),this.finishEvaluation(),createjs.Sound.play("good"),0===this.intento&&this.library.score.plusOne(),this.intento=0):(this.warning(),this.intento=1,this.answer.returnToPlace())},e.prototype.finishEvaluation=function(){return""!==this.library.p1.text.text&&""!==this.library.p2.text.text?setTimeout(this.clearEvaluation,1e3):void 0},e.prototype.clearEvaluation=function(){var t,i;for(t=i=1;11>=i;t=i+=1)this.library["p"+t+"n"].visible=!0,this.library["p"+t+"n"].returnToPlace();return this.library.p1.changeText(""),this.library.p2.changeText(""),TweenLite.to(this.library.scene,.5,{alpha:0,ease:Back.easeOut,onComplete:this.nextEvaluation})},e.prototype.nextEvaluation=function(){return this.index++,this.intento=0,this.index<this.escenas.length?(this.setEscena(this.index+1),TweenLite.to(this.library.scene,.5,{alpha:1,ease:Back.easeOut})):this.finish()},e.prototype.finish=function(){return TweenLite.to(this.library.nube1,1,{alpha:0,y:this.library.nube1.y-10,ease:Quart.easeOut}),e.__super__.finish.apply(this,arguments)},window.U7A1=e,e}(Oda)}).call(this);