// Generated by CoffeeScript 1.6.3
(function() {
  var AfterBeforeWord, Button, ChooseBitmap, ChooseText, ClickableLetter, ClickableText, Counter, Draggable, DraggableText, Droppable, DroppableText, Observer, Oda, Score, WordCompleter, WordContainer,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    __slice = [].slice;

  Button = (function() {
    function Button(name, image, index, x, y) {
      this.initialize(name, image, index, x, y);
    }

    Button.prototype = new createjs.Container();

    Button.prototype.Container_initialize = Button.prototype.initialize;

    Button.prototype.initialize = function(name, image, index, x, y) {
      this.Container_initialize();
      this.name = name;
      this.bitmap = new createjs.Bitmap(image);
      this.index = index;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.addChild(this.bitmap);
      return false;
    };

    Button.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.5, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    window.Button = Button;

    return Button;

  })();

  ChooseBitmap = (function() {
    function ChooseBitmap(name, img1, img2, success, x, y) {
      this._dispatchSelection = __bind(this._dispatchSelection, this);
      this.initialize(name, img1, img2, success, x, y);
    }

    ChooseBitmap.prototype = new createjs.Container();

    ChooseBitmap.prototype.Container_initialize = ChooseBitmap.prototype.initialize;

    ChooseBitmap.prototype.initialize = function(name, img1, img2, success, x, y) {
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.success = success;
      this.rand = Math.random() > 0.5 ? 1 : 2;
      this.firstOption = new createjs.Bitmap(img1);
      this.firstOption.width = img1.width;
      this.firstOption.index = 1;
      this.secondOption = new createjs.Bitmap(img2);
      this.secondOption.width = img2.width;
      this.secondOption.index = 2;
      if (this.rand === 1) {
        this.secondOption.x = this.firstOption.width + 20;
      } else {
        this.firstOption.x = this.firstOption.width + 20;
      }
      this.addChild(this.firstOption, this.secondOption);
      return false;
    };

    ChooseBitmap.prototype.initListeners = function() {
      this.firstOption.addEventListener('click', this._dispatchSelection);
      return this.secondOption.addEventListener('click', this._dispatchSelection);
    };

    ChooseBitmap.prototype.setImages = function(img1, img2, success) {
      this.removeAllChildren();
      this.firstOption = new createjs.Bitmap(img1);
      this.firstOption.width = img1.width;
      this.firstOption.index = 1;
      this.secondOption = new createjs.Bitmap(img2);
      this.secondOption.width = img2.width;
      this.secondOption.x = this.firstOption.width + 20;
      this.secondOption.index = 2;
      return this.addChild(this.firstOption, this.secondOption);
    };

    ChooseBitmap.prototype.setDistance = function(dist, w) {
      var width;
      if (this.rand === 1) {
        width = w != null ? w : this.secondOption.width;
        this.secondOption.x = dist;
        return this.regX = this.secondOption.x + width / 2;
      } else {
        width = w != null ? w : this.firstOption.width;
        this.firstOption.x = dist;
        return this.regX = this.firstOption.x + width / 2;
      }
    };

    ChooseBitmap.prototype._dispatchSelection = function(e) {
      if (e.target.index === this.success) {
        if (e.target === this.firstOption) {
          TweenLite.to(this.firstOption, 1, {
            x: this.regX - this.firstOption.width / 2
          });
          TweenLite.to(this.secondOption, 1, {
            alpha: 0
          });
        } else {
          TweenLite.to(this.firstOption, 1, {
            alpha: 0
          });
          TweenLite.to(this.secondOption, 1, {
            x: this.regX + this.secondOption.width / 2
          });
        }
      }
      return this.dispatchEvent({
        type: 'selection',
        success: e.target.index === this.success
      });
    };

    window.ChooseBitmap = ChooseBitmap;

    return ChooseBitmap;

  })();

  ChooseText = (function() {
    function ChooseText(name, prev, text1, text2, comp, success, x, y) {
      this._dispatchEvent = __bind(this._dispatchEvent, this);
      this.initialize(name, prev, text1, text2, comp, success, x, y);
    }

    ChooseText.prototype = new createjs.Container();

    ChooseText.prototype.Container_initialize = ChooseText.prototype.initialize;

    ChooseText.prototype.initialize = function(name, prev, text1, text2, comp, success, x, y) {
      var complement;
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.success = success;
      this.prev = new createjs.Text(prev, '16px Quicksand', '#333333');
      this.firstOption = new ClickableText(text1, text1, 1, this.prev.getMeasuredWidth() + 10, 0);
      this.slash = new createjs.Text('/', '16px Quicksand', '#333333');
      this.slash.x = this.firstOption.x + this.firstOption.width;
      this.secondOption = new ClickableText(text2, text2, 2, this.slash.x + this.slash.getMeasuredWidth() + 10, 0);
      complement = comp != null ? comp : '';
      this.complement = new createjs.Text(complement, '16px Quicksand', '#333333');
      this.complement.x = this.secondOption.x + this.secondOption.width;
      this.width = this.complement.x + this.complement.getMeasuredWidth() + 10;
      this.firstOption.addEventListener('click', this._dispatchEvent);
      this.secondOption.addEventListener('click', this._dispatchEvent);
      this.addChild(this.prev, this.firstOption, this.slash, this.secondOption, this.complement);
      return false;
    };

    ChooseText.prototype._dispatchEvent = function(e) {
      return this.dispatchEvent({
        type: 'selection',
        success: e.target.index === this.success
      });
    };

    window.ChooseText = ChooseText;

    return ChooseText;

  })();

  ClickableLetter = (function() {
    function ClickableLetter(name, text, index, x, y) {
      this.initialize(name, text, index, x, y);
    }

    ClickableLetter.prototype = new createjs.Container();

    ClickableLetter.prototype.Container_initialize = ClickableLetter.prototype.initialize;

    ClickableLetter.prototype.initialize = function(name, text, index, x, y) {
      var hit;
      this.Container_initialize();
      this.name = name;
      this.index = index;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.text = new createjs.Text(text, '20px Quicksand', '#333333');
      this.w = this.text.getMeasuredWidth() + 10 > 40 ? this.text.getMeasuredWidth() + 10 : 40;
      this.h = this.text.getMeasuredHeight() + 6 > 30 ? this.text.getMeasuredHeight() + 6 : 30;
      hit = new createjs.Shape();
      hit.graphics.beginFill('#000').drawRect(-5, -3, this.w, this.h);
      this.text.hitArea = hit;
      this.addChild(this.text);
      return false;
    };

    window.ClickableLetter = ClickableLetter;

    return ClickableLetter;

  })();

  ClickableText = (function() {
    function ClickableText(name, text, index, x, y) {
      this.initialize(name, text, index, x, y);
    }

    ClickableText.prototype = new createjs.Container();

    ClickableText.prototype.Container_initialize = ClickableText.prototype.initialize;

    ClickableText.prototype.initialize = function(name, text, index, x, y) {
      var hit;
      this.Container_initialize();
      this.name = name;
      this.index = index;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.text = new createjs.Text(text, '16px Quicksand', '#333333');
      this.width = this.text.getMeasuredWidth() + 10;
      this.height = this.text.getMeasuredHeight() + 3;
      hit = new createjs.Shape();
      hit.graphics.beginFill('#000').drawRect(-5, -3, this.text.getMeasuredWidth() + 20, this.text.getMeasuredHeight() + 6);
      this.text.hitArea = hit;
      this.addChild(this.text);
      return false;
    };

    ClickableText.prototype.setLineWidth = function(width) {
      var h, hit, w;
      this.text.lineWidth = width;
      h = this.text.getMeasuredHeight() + 6;
      w = this.width > width ? width + 10 : this.width;
      hit = new createjs.Shape();
      switch (this.text.textAlign) {
        case 'left':
          hit.graphics.c().beginFill('rgba(0,0,0,0.1)').drawRect(0, 0, w, h);
          break;
        case 'center':
          hit.graphics.c().beginFill('rgba(0,0,0,0.1)').drawRect(-w / 2, 0, w, h);
          break;
        case 'right':
          hit.graphics.c().beginFill('rgba(0,0,0,0.1)').drawRect(-w, 0, w, h);
      }
      this.text.hitArea = hit;
      this.width = w;
      return false;
    };

    window.ClickableText = ClickableText;

    return ClickableText;

  })();

  Counter = (function() {
    function Counter(name, count, back, x, y) {
      this.doCount = __bind(this.doCount, this);
      this.initialize(name, count, back, x, y);
    }

    Counter.prototype = new createjs.Container();

    Counter.prototype.Container_initialize = Counter.prototype.initialize;

    Counter.prototype.initialize = function(name, count, back, x, y) {
      var shape;
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.count = count;
      this.text = new createjs.Text(this.count, '24px Arial', '#ffffff');
      this.text.textAlign = 'center';
      this.text.x = 30;
      this.text.y = 5;
      shape = new createjs.Shape();
      shape.graphics.beginFill(back).drawRoundRect(0, 0, 60, 36, 10);
      this.addChild(shape, this.text);
      return false;
    };

    Counter.prototype.start = function() {
      return this.time = setInterval(this.doCount, 1000);
    };

    Counter.prototype.doCount = function() {
      if (this.count > 0) {
        this.count--;
        this.text.text = this.count;
        return this.dispatchEvent('timer_event');
      } else {
        clearInterval(this.time);
        return this.dispatchEvent('timer_complete');
      }
    };

    Counter.prototype.stop = function() {
      return clearInterval(this.time);
    };

    window.Counter = Counter;

    return Counter;

  })();

  Draggable = (function() {
    function Draggable(name, image, index, x, y) {
      this.blinkAgain = __bind(this.blinkAgain, this);
      this.handleMouseDown = __bind(this.handleMouseDown, this);
      this.endDragListener = __bind(this.endDragListener, this);
      this.initDragListener = __bind(this.initDragListener, this);
      this.onStopEvaluation = __bind(this.onStopEvaluation, this);
      this.onInitEvaluation = __bind(this.onInitEvaluation, this);
      this.initialize(name, image, index, x, y);
    }

    Draggable.prototype = new createjs.Container();

    Draggable.prototype.Container_initialize = Draggable.prototype.initialize;

    Draggable.prototype.initialize = function(name, image, index, x, y) {
      var hit;
      this.Container_initialize();
      this.name = name;
      this.bitmap = new createjs.Bitmap(image);
      this.index = index;
      this.x = x;
      this.y = y;
      this.width = image.width;
      this.height = image.height;
      this.pos = {
        x: x,
        y: y
      };
      hit = new createjs.Shape();
      hit.graphics.beginFill('rgba(0,0,0,0.5)').drawRect(0, 0, image.width, image.height);
      this.hitArea = hit;
      this.inPlace = false;
      return this.addChild(this.bitmap);
    };

    Draggable.prototype.onInitEvaluation = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    Draggable.prototype.onStopEvaluation = function() {
      return this.removeEventListener('mousedown', this.handleMouseDown);
    };

    Draggable.prototype.initDragListener = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    Draggable.prototype.endDragListener = function() {
      return this.removeEventListener('mousedown', this.handleMouseDown);
    };

    Draggable.prototype.handleMouseDown = function(e) {
      var offset, posX, posY,
        _this = this;
      TweenMax.killTweensOf(this);
      TweenLite.killTweensOf(this);
      this.alpha = 1;
      posX = e.stageX / stageSize.r;
      posY = e.stageY / stageSize.r;
      offset = {
        x: posX - this.x,
        y: posY - this.y
      };
      this.x = posX - offset.x;
      this.y = posY - offset.y;
      this.addEventListener('pressmove', function(ev) {
        posX = ev.stageX / stageSize.r;
        posY = ev.stageY / stageSize.r;
        _this.x = posX - offset.x;
        _this.y = posY - offset.y;
        return false;
      });
      this.addEventListener('pressup', function(ev) {
        _this.removeAllEventListeners('pressmove');
        _this.removeAllEventListeners('pressup');
        _this.dispatchEvent('drop');
        return false;
      });
      return false;
    };

    Draggable.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.5, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    Draggable.prototype.blinkAgain = function() {
      TweenLite.killTweensOf(this);
      return this.blink(true);
    };

    Draggable.prototype.putInPlace = function(position, alpha, scaleX, scaleY) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      this.inPlace = true;
      return TweenLite.to(this, 1, {
        ease: Back.easeOut,
        delay: 0.1,
        x: position.x,
        y: position.y,
        alpha: alpha,
        scaleX: scaleX,
        scaleY: scaleY
      });
    };

    Draggable.prototype.returnToPlace = function(alpha, scaleX, scaleY, blink) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      if (blink == null) {
        blink = false;
      }
      if (!blink) {
        return TweenLite.to(this, 0.5, {
          ease: Back.easeOut,
          delay: 0.1,
          x: this.pos.x,
          y: this.pos.y,
          alpha: alpha,
          scaleX: scaleX,
          scaleY: scaleY
        });
      } else {
        return TweenLite.to(this, 0.5, {
          ease: Back.easeOut,
          delay: 0.1,
          x: this.pos.x,
          y: this.pos.y,
          alpha: alpha,
          scaleX: scaleX,
          scaleY: scaleY,
          onComplete: this.blinkAgain
        });
      }
    };

    Draggable.prototype.takeMeOut = function() {
      return TweenLite.to(this, 0.5, {
        ease: Linear.easeNone,
        delay: 0.1,
        x: this.pos.x,
        y: this.pos.y,
        alpha: 0,
        onComplete: this.killMe
      });
    };

    window.Draggable = Draggable;

    return Draggable;

  })();

  DraggableText = (function() {
    function DraggableText(name, text, index, x, y) {
      this.blinkAgain = __bind(this.blinkAgain, this);
      this.handleMouseDown = __bind(this.handleMouseDown, this);
      this.onInitEvaluation = __bind(this.onInitEvaluation, this);
      this.endDragListener = __bind(this.endDragListener, this);
      this.initDragListener = __bind(this.initDragListener, this);
      this.initialize(name, text, index, x, y);
    }

    DraggableText.prototype = new createjs.Container();

    DraggableText.prototype.Container_initialize = DraggableText.prototype.initialize;

    DraggableText.prototype.initialize = function(name, text, index, x, y) {
      this.Container_initialize();
      this.name = name;
      this.index = index;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.text = new createjs.Text(text, '16px Quicksand', '#333333');
      this.hit = new createjs.Shape();
      this.hit.graphics.beginFill('#000').drawRect(-5, -5, this.text.getMeasuredWidth() + 10, this.text.getMeasuredHeight() + 10);
      this.text.hitArea = this.hit;
      this.inPlace = false;
      this.addChild(this.text);
      return false;
    };

    DraggableText.prototype.createHitArea = function(w, h) {
      switch (this.text.textAlign) {
        case 'left':
          this.hit.graphics.c().beginFill('#000').drawRect(0, 0, w, h);
          break;
        case 'center':
          this.hit.graphics.c().beginFill('#000').drawRect(-w / 2, 0, w, h);
          break;
        case 'right':
          this.hit.graphics.c().beginFill('#000').drawRect(-w, 0, w, h);
      }
      return this.text.hitArea = this.hit;
    };

    DraggableText.prototype.setHitArea = function() {
      var h, w;
      w = this.text.getMeasuredWidth();
      h = this.text.getMeasuredHeight();
      switch (this.text.textAlign) {
        case 'left':
          this.hit.graphics.c().beginFill('#000').drawRect(0, 0, w, h);
          break;
        case 'center':
          this.hit.graphics.c().beginFill('#000').drawRect(-w / 2, 0, w, h);
          break;
        case 'right':
          this.hit.graphics.c().beginFill('#000').drawRect(-w, 0, w, h);
      }
      return this.text.hitArea = this.hit;
    };

    DraggableText.prototype.initDragListener = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    DraggableText.prototype.endDragListener = function() {
      return this.removeEventListener('mousedown', this.handleMouseDown);
    };

    DraggableText.prototype.onInitEvaluation = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    DraggableText.prototype.handleMouseDown = function(e) {
      var offset, posX, posY,
        _this = this;
      posX = e.stageX / stageSize.r;
      posY = e.stageY / stageSize.r;
      offset = {
        x: posX - this.x,
        y: posY - this.y
      };
      this.x = posX - offset.x;
      this.y = posY - offset.y;
      this.addEventListener('pressmove', function(ev) {
        posX = ev.stageX / stageSize.r;
        posY = ev.stageY / stageSize.r;
        _this.x = posX - offset.x;
        _this.y = posY - offset.y;
        return false;
      });
      this.addEventListener('pressup', function(ev) {
        _this.removeAllEventListeners('pressmove');
        _this.removeAllEventListeners('pressup');
        _this.dispatchEvent('drop');
        return false;
      });
      return false;
    };

    DraggableText.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.2, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    DraggableText.prototype.blinkAgain = function() {
      TweenLite.killTweensOf(this);
      return this.blink(true);
    };

    DraggableText.prototype.putInPlace = function(position, alpha, scaleX, scaleY) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      this.inPlace = true;
      return TweenLite.to(this, 1, {
        ease: Back.easeOut,
        delay: 0.1,
        x: position.x,
        y: position.y,
        alpha: alpha,
        scaleX: scaleX,
        scaleY: scaleY
      });
    };

    DraggableText.prototype.returnToPlace = function(alpha, scaleX, scaleY) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      return TweenLite.to(this, 0.5, {
        ease: Back.easeOut,
        delay: 0.1,
        x: this.pos.x,
        y: this.pos.y,
        alpha: alpha,
        scaleX: scaleX,
        scaleY: scaleY
      });
    };

    window.DraggableText = DraggableText;

    return DraggableText;

  })();

  Droppable = (function() {
    function Droppable(name, image, index, x, y, stage, drops) {
      if (drops == null) {
        drops = [];
      }
      this.blinkAgain = __bind(this.blinkAgain, this);
      this.handleMouseDown = __bind(this.handleMouseDown, this);
      this.endDragListener = __bind(this.endDragListener, this);
      this.initDragListener = __bind(this.initDragListener, this);
      this.onStopEvaluation = __bind(this.onStopEvaluation, this);
      this.onInitEvaluation = __bind(this.onInitEvaluation, this);
      this.initialize(name, image, index, x, y, stage, drops);
    }

    Droppable.prototype = new createjs.Container();

    Droppable.prototype.Container_initialize = Droppable.prototype.initialize;

    Droppable.prototype.initialize = function(name, image, index, x, y, stage, drops) {
      var hit;
      this.Container_initialize();
      this.name = name;
      this.bitmap = new createjs.Bitmap(image);
      this.index = index;
      this.x = x;
      this.y = y;
      this.width = image.width;
      this.height = image.height;
      this.pos = {
        x: x,
        y: y
      };
      this.stage = stage;
      this.drops = drops;
      hit = new createjs.Shape();
      hit.graphics.beginFill('rgba(0,0,0,0.5)').drawRect(0, 0, image.width, image.height);
      this.hitArea = hit;
      this.inPlace = false;
      return this.addChild(this.bitmap);
    };

    Droppable.prototype.updateDrops = function() {
      var drop, drops, o, _i, _j, _len, _len1;
      drop = arguments[0], drops = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      this.drops = [];
      if (this.isArray(drop)) {
        for (_i = 0, _len = drop.length; _i < _len; _i++) {
          o = drop[_i];
          this.drops.push(o);
        }
      } else {
        this.drops.push(drop);
        for (_j = 0, _len1 = drops.length; _j < _len1; _j++) {
          o = drops[_j];
          this.drops.push(o);
        }
      }
      return this.drops;
    };

    Droppable.prototype.isArray = function(value) {
      return Array.isArray(value || function(value) {
        return {}.toString.call(value) === '[object Array]';
      });
    };

    Droppable.prototype.onInitEvaluation = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    Droppable.prototype.onStopEvaluation = function() {
      return this.removeEventListener('mousedown', this.handleMouseDown);
    };

    Droppable.prototype.initDragListener = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    Droppable.prototype.endDragListener = function() {
      return this.removeEventListener('mousedown', this.handleMouseDown);
    };

    Droppable.prototype.handleMouseDown = function(e) {
      var offset, posX, posY,
        _this = this;
      TweenMax.killTweensOf(this);
      TweenLite.killTweensOf(this);
      this.alpha = 1;
      posX = e.stageX / stageSize.r;
      posY = e.stageY / stageSize.r;
      offset = {
        x: posX - this.x,
        y: posY - this.y
      };
      this.x = posX - offset.x;
      this.y = posY - offset.y;
      this.addEventListener('pressmove', function(ev) {
        posX = ev.stageX / stageSize.r;
        posY = ev.stageY / stageSize.r;
        _this.x = posX - offset.x;
        _this.y = posY - offset.y;
        return false;
      });
      this.addEventListener('pressup', function(ev) {
        _this.removeAllEventListeners('pressmove');
        _this.removeAllEventListeners('pressup');
        if (_this.drops.length > 0) {
          _this.evaluateDrop(e);
        } else {
          _this.dispatchEvent('drop');
        }
        return false;
      });
      return false;
    };

    Droppable.prototype.evaluateDrop = function(e) {
      var drop, dropped, object, pt, _i, _len, _ref;
      object = null;
      dropped = false;
      _ref = this.drops;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        drop = _ref[_i];
        pt = drop.globalToLocal(this.stage.mouseX, this.stage.mouseY);
        if (drop.hitTest(pt.x, pt.y)) {
          object = drop;
          dropped = true;
        }
      }
      if (dropped) {
        return this.dispatchEvent({
          type: 'dropped',
          drop: object
        });
      } else {
        return this.returnToPlace(this.alpha, this.scaleX, this.scaleY);
      }
    };

    Droppable.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.5, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    Droppable.prototype.blinkAgain = function() {
      TweenLite.killTweensOf(this);
      return this.blink(true);
    };

    Droppable.prototype.putInPlace = function(position, alpha, scaleX, scaleY) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      this.inPlace = true;
      return TweenLite.to(this, 1, {
        ease: Back.easeOut,
        delay: 0.1,
        x: position.x,
        y: position.y,
        alpha: alpha,
        scaleX: scaleX,
        scaleY: scaleY
      });
    };

    Droppable.prototype.returnToPlace = function(alpha, scaleX, scaleY, blink) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      if (blink == null) {
        blink = false;
      }
      if (!blink) {
        return TweenLite.to(this, 0.5, {
          ease: Back.easeOut,
          delay: 0.1,
          x: this.pos.x,
          y: this.pos.y,
          alpha: alpha,
          scaleX: scaleX,
          scaleY: scaleY
        });
      } else {
        return TweenLite.to(this, 0.5, {
          ease: Back.easeOut,
          delay: 0.1,
          x: this.pos.x,
          y: this.pos.y,
          alpha: alpha,
          scaleX: scaleX,
          scaleY: scaleY,
          onComplete: this.blinkAgain
        });
      }
    };

    Droppable.prototype.takeMeOut = function() {
      return TweenLite.to(this, 0.5, {
        ease: Linear.easeNone,
        delay: 0.1,
        x: this.pos.x,
        y: this.pos.y,
        alpha: 0,
        onComplete: this.killMe
      });
    };

    window.Droppable = Droppable;

    return Droppable;

  })();

  DroppableText = (function() {
    function DroppableText(name, text, index, x, y, stage, drops) {
      if (drops == null) {
        drops = [];
      }
      this.blinkAgain = __bind(this.blinkAgain, this);
      this.handleMouseDown = __bind(this.handleMouseDown, this);
      this.onInitEvaluation = __bind(this.onInitEvaluation, this);
      this.endDragListener = __bind(this.endDragListener, this);
      this.initDragListener = __bind(this.initDragListener, this);
      this.initialize(name, text, index, x, y, stage, drops);
    }

    DroppableText.prototype = new createjs.Container();

    DroppableText.prototype.Container_initialize = DroppableText.prototype.initialize;

    DroppableText.prototype.initialize = function(name, text, index, x, y, stage, drops) {
      this.Container_initialize();
      this.name = name;
      this.index = index;
      this.x = x;
      this.y = y;
      this.pos = {
        x: x,
        y: y
      };
      this.stage = stage;
      this.drops = drops;
      this.text = new createjs.Text(text, '16px Quicksand', '#333333');
      this.hit = new createjs.Shape();
      this.hit.graphics.beginFill('#000').drawRect(-5, -5, this.text.getMeasuredWidth() + 10, this.text.getMeasuredHeight() + 10);
      this.text.hitArea = this.hit;
      this.inPlace = false;
      this.addChild(this.text);
      return false;
    };

    DroppableText.prototype.createHitArea = function(w, h) {
      switch (this.text.textAlign) {
        case 'left':
          this.hit.graphics.c().beginFill('#000').drawRect(0, 0, w, h);
          break;
        case 'center':
          this.hit.graphics.c().beginFill('#000').drawRect(-w / 2, 0, w, h);
          break;
        case 'right':
          this.hit.graphics.c().beginFill('#000').drawRect(-w, 0, w, h);
      }
      return this.text.hitArea = this.hit;
    };

    DroppableText.prototype.setHitArea = function() {
      var h, w;
      w = this.text.getMeasuredWidth();
      h = this.text.getMeasuredHeight();
      switch (this.text.textAlign) {
        case 'left':
          this.hit.graphics.c().beginFill('#000').drawRect(0, 0, w, h);
          break;
        case 'center':
          this.hit.graphics.c().beginFill('#000').drawRect(-w / 2, 0, w, h);
          break;
        case 'right':
          this.hit.graphics.c().beginFill('#000').drawRect(-w, 0, w, h);
      }
      return this.text.hitArea = this.hit;
    };

    DroppableText.prototype.updateDrops = function() {
      var drop, drops, o, _i, _j, _len, _len1;
      drop = arguments[0], drops = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      this.drops = [];
      if (this.isArray(drop)) {
        for (_i = 0, _len = drop.length; _i < _len; _i++) {
          o = drop[_i];
          this.drops.push(o);
        }
      } else {
        this.drops.push(drop);
        for (_j = 0, _len1 = drops.length; _j < _len1; _j++) {
          o = drops[_j];
          this.drops.push(o);
        }
      }
      return this.drops;
    };

    DroppableText.prototype.isArray = function(value) {
      return Array.isArray(value || function(value) {
        return {}.toString.call(value) === '[object Array]';
      });
    };

    DroppableText.prototype.initDragListener = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    DroppableText.prototype.endDragListener = function() {
      return this.removeEventListener('mousedown', this.handleMouseDown);
    };

    DroppableText.prototype.onInitEvaluation = function() {
      return this.addEventListener('mousedown', this.handleMouseDown);
    };

    DroppableText.prototype.handleMouseDown = function(e) {
      var offset, posX, posY,
        _this = this;
      posX = e.stageX / stageSize.r;
      posY = e.stageY / stageSize.r;
      offset = {
        x: posX - this.x,
        y: posY - this.y
      };
      this.x = posX - offset.x;
      this.y = posY - offset.y;
      this.addEventListener('pressmove', function(ev) {
        posX = ev.stageX / stageSize.r;
        posY = ev.stageY / stageSize.r;
        _this.x = posX - offset.x;
        _this.y = posY - offset.y;
        return false;
      });
      this.addEventListener('pressup', function(ev) {
        _this.removeAllEventListeners('pressmove');
        _this.removeAllEventListeners('pressup');
        if (_this.drops.length > 0) {
          _this.evaluateDrop(e);
        } else {
          _this.dispatchEvent('drop');
        }
        return false;
      });
      return false;
    };

    DroppableText.prototype.evaluateDrop = function(e) {
      var drop, dropped, object, pt, _i, _len, _ref;
      object = null;
      dropped = false;
      _ref = this.drops;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        drop = _ref[_i];
        pt = drop.globalToLocal(this.stage.mouseX, this.stage.mouseY);
        if (drop.hitTest(pt.x, pt.y)) {
          object = drop;
          dropped = true;
        }
      }
      if (dropped) {
        return this.dispatchEvent({
          type: 'dropped',
          drop: object
        });
      } else {
        return this.returnToPlace();
      }
    };

    DroppableText.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.2, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    DroppableText.prototype.blinkAgain = function() {
      TweenLite.killTweensOf(this);
      return this.blink(true);
    };

    DroppableText.prototype.putInPlace = function(position, alpha, scaleX, scaleY) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      this.inPlace = true;
      return TweenLite.to(this, 1, {
        ease: Back.easeOut,
        delay: 0.1,
        x: position.x,
        y: position.y,
        alpha: alpha,
        scaleX: scaleX,
        scaleY: scaleY
      });
    };

    DroppableText.prototype.returnToPlace = function(alpha, scaleX, scaleY) {
      if (alpha == null) {
        alpha = 1;
      }
      if (scaleX == null) {
        scaleX = 1;
      }
      if (scaleY == null) {
        scaleY = 1;
      }
      return TweenLite.to(this, 0.5, {
        ease: Back.easeOut,
        delay: 0.1,
        x: this.pos.x,
        y: this.pos.y,
        alpha: alpha,
        scaleX: scaleX,
        scaleY: scaleY
      });
    };

    window.DroppableText = DroppableText;

    return DroppableText;

  })();

  AfterBeforeWord = (function() {
    function AfterBeforeWord(name, after_label, text, before_label, bgcolor, stcolor, x, y, w, h) {
      if (w == null) {
        w = 100;
      }
      if (h == null) {
        h = 20;
      }
      this.initialize(name, after_label, text, before_label, bgcolor, stcolor, x, y, w, h);
    }

    AfterBeforeWord.prototype = new createjs.Container();

    AfterBeforeWord.prototype.Container_initialize = AfterBeforeWord.prototype.initialize;

    AfterBeforeWord.prototype.initialize = function(name, after_label, text, before_label, bgcolor, stcolor, x, y, w, h) {
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.alabel = new createjs.Text(after_label, '26px Quicksand', '#333');
      this.text = new createjs.Text(text, '26px Quicksand', '#333');
      this.blabel = new createjs.Text(before_label, '26px Quicksand', '#333');
      this.graphic = new createjs.Graphics().beginFill(bgcolor).drawRect(0, 0, w, h).setStrokeStyle(3).beginStroke(stcolor).moveTo(0, h).lineTo(w, h);
      this.shape = new createjs.Shape(this.graphic);
      this.text.textAlign = 'center';
      this.shape.x = this.alabel.getMeasuredWidth();
      this.text.x = this.alabel.getMeasuredWidth() + w / 2;
      this.blabel.x = this.alabel.getMeasuredWidth() + w;
      this.width = this.alabel.getMeasuredWidth() + w + this.blabel.getMeasuredWidth();
      this.addChild(this.shape, this.alabel, this.text, this.blabel);
      return false;
    };

    AfterBeforeWord.prototype.changeAfterLabel = function(text) {
      return this.label.text = text;
    };

    AfterBeforeWord.prototype.changeBeforeLabel = function(text) {
      return this.label.text = text;
    };

    AfterBeforeWord.prototype.changeText = function(text) {
      this.text.text = text;
      return this.text.textAlign = 'center';
    };

    AfterBeforeWord.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.5, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    window.AfterBeforeWord = AfterBeforeWord;

    return AfterBeforeWord;

  })();

  Observer = (function() {
    function Observer() {
      this.subscribers = [];
    }

    Observer.prototype.notify = function(item) {
      var subscriber, _i, _len, _ref, _results;
      _ref = this.subscribers;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        subscriber = _ref[_i];
        if (subscriber.item === item) {
          _results.push(subscriber.callback(item));
        }
      }
      return _results;
    };

    Observer.prototype.subscribe = function(to, onNotify) {
      return this.subscribers.push({
        'item': to,
        'callback': onNotify
      });
    };

    window.Observer = Observer;

    return Observer;

  })();

  window.stageSize || (window.stageSize = {
    w: 800,
    h: 600,
    r: 1
  });

  Array.prototype.toDictionary = function(key) {
    var dict, obj, _i, _len;
    dict = {};
    for (_i = 0, _len = this.length; _i < _len; _i++) {
      obj = this[_i];
      if (obj[key] != null) {
        dict[obj[key]] = obj;
      }
    }
    return dict;
  };

  Array.prototype.where = function(query) {
    var hit;
    if (typeof query !== "object") {
      return [];
    }
    hit = Object.keys(query).length;
    return this.filter(function(item) {
      var key, match, val;
      match = 0;
      for (key in query) {
        val = query[key];
        if (item[key] === val) {
          match += 1;
        }
      }
      if (match === hit) {
        return true;
      } else {
        return false;
      }
    });
  };

  Array.prototype.unique = function() {
    var key, output, value, _i, _ref, _results;
    output = {};
    for (key = _i = 0, _ref = this.length; 0 <= _ref ? _i < _ref : _i > _ref; key = 0 <= _ref ? ++_i : --_i) {
      output[this[key]] = this[key];
    }
    _results = [];
    for (key in output) {
      value = output[key];
      _results.push(value);
    }
    return _results;
  };

  Oda = (function() {
    function Oda(imgurl, manifest, sounds) {
      var def_manifest, item;
      this.imgurl = imgurl != null ? imgurl : 'imgs/';
      this.warningComplete = __bind(this.warningComplete, this);
      this.playAgain = __bind(this.playAgain, this);
      this.handlePlayAgain = __bind(this.handlePlayAgain, this);
      this.initEvaluation = __bind(this.initEvaluation, this);
      this.initMobileInstructions = __bind(this.initMobileInstructions, this);
      this.handleComplete = __bind(this.handleComplete, this);
      this.handleProgress = __bind(this.handleProgress, this);
      def_manifest = [
        {
          id: 'sg',
          src: "" + this.imgurl + "start_game.png"
        }, {
          id: 'pa',
          src: "" + this.imgurl + "play_again.png"
        }
      ];
      this.assets = new Array();
      this.manifest = (function() {
        var _i, _len, _results;
        _results = [];
        for (_i = 0, _len = manifest.length; _i < _len; _i++) {
          item = manifest[_i];
          _results.push({
            id: "" + item.id,
            src: "" + (this.imgurl + item.src)
          });
        }
        return _results;
      }).call(this);
      Array.prototype.push.apply(this.manifest, def_manifest);
      Array.prototype.push.apply(this.manifest, sounds);
    }

    Oda.prototype.initialize = function() {
      this.initStage().initContainer().initPreloader().resize();
      return this;
    };

    Oda.prototype.initStage = function() {
      this.stage = new createjs.Stage('oda');
      createjs.Ticker.addEventListener('tick', this.stage);
      createjs.Ticker.setFPS(60);
      createjs.Touch.enable(this.stage);
      this.stage.enableMouseOver();
      return this;
    };

    Oda.prototype.initContainer = function() {
      this.mainContainer = new createjs.Container();
      this.mainContainer.regX = stageSize.w / 2;
      this.mainContainer.regY = stageSize.h / 2;
      this.stage.addChild(this.mainContainer);
      return this;
    };

    Oda.prototype.initPreloader = function() {
      var bgBar, i, _i, _ref;
      this.preload = new createjs.LoadQueue(false);
      this.loadStep = 0;
      this.barHeight = 7;
      this.barWidth = 35;
      this.loaderColor = (_ref = $('#oda').data('loadercolor')) != null ? _ref : '#E62922';
      this.loaderBar = new createjs.Container();
      this.loaderBar.x = stageSize.w / 2;
      this.loaderBar.y = stageSize.h / 2;
      for (i = _i = 1; _i <= 13; i = _i += 1) {
        bgBar = new createjs.Shape();
        bgBar.graphics.setStrokeStyle(1).beginStroke(this.loaderColor).beginFill(this.loaderColor).drawRoundRect(0, 0, this.barWidth, this.barHeight, 5);
        bgBar.regX = -20;
        bgBar.regY = this.barHeight / 2;
        bgBar.rotation = (i - 1) * 30;
        bgBar.alpha = 0.05;
        bgBar.name = 'bar' + i.toString();
        this.loaderBar.addChild(bgBar);
      }
      this.preload.installPlugin(createjs.Sound);
      this.preload.addEventListener('progress', this.handleProgress);
      this.preload.addEventListener('complete', this.handleComplete);
      this.preload.loadManifest(this.manifest);
      this.mainContainer.addChild(this.loaderBar);
      TweenLite.from(this.loaderBar, 1, {
        alpha: 0.1,
        ease: Quart.easeOut
      });
      return this;
    };

    Oda.prototype.handleProgress = function(e) {
      var percent;
      percent = Math.round(this.preload.progress * 100);
      if (e.loaded >= this.loadStep / 12 && this.loadStep < 12) {
        this.showBar("bar" + (this.loadStep + 1));
        return this.loadStep++;
      }
    };

    Oda.prototype.handleComplete = function() {
      this.preload.removeEventListener('progress', this.handleProgress);
      this.preload.removeEventListener('complete', this.handleComplete);
      TweenLite.to(this.loaderBar, 1, {
        alpha: 0,
        ease: Quart.easeOut
      });
      return this.setStage();
    };

    Oda.prototype.showBar = function(name) {
      return TweenLite.to(this.loaderBar.getChildByName(name), 2.5, {
        alpha: 1,
        ease: Quart.easeOut
      });
    };

    Oda.prototype.setStage = function() {
      this.index = 0;
      return this.observer = new Observer();
    };

    Oda.prototype.introEvaluation = function() {
      if (this.library.score) {
        if (this.library['score']) {
          return this.library.score.reset();
        }
      }
    };

    Oda.prototype.playInstructions = function(oda) {
      var inst;
      if (dealersjs.mobile.isIOS() || dealersjs.mobile.isAndroid()) {
        oda.insertBitmap('start', 'sg', stageSize.w / 2, stageSize.h / 2, 'mc');
        oda.library['start'].addEventListener('click', oda.initMobileInstructions);
        return TweenLite.from(oda.library['start'], 0.3, {
          alpha: 0,
          y: oda.library['start'].y + 20
        });
      } else {
        inst = createjs.Sound.play('instructions');
        return inst.addEventListener('complete', oda.initEvaluation);
      }
    };

    Oda.prototype.initMobileInstructions = function(e) {
      var inst;
      e.target.removeEventListener('click', this.initMobileInstructions);
      createjs.Sound.stop();
      inst = createjs.Sound.play('instructions');
      inst.addEventListener('complete', this.initEvaluation);
      return TweenLite.to(this.library['start'], 0.3, {
        alpha: 0,
        y: this.library['start'].y + 20,
        onComplete: this.removeMobileInstructions,
        onCompleteParams: [this]
      });
    };

    Oda.prototype.removeMobileInstructions = function(oda) {
      return oda.mainContainer.removeChild(oda.library['start']);
    };

    Oda.prototype.initEvaluation = function(e) {
      return this.observer.notify('init_evaluation');
    };

    Oda.prototype.finish = function() {
      this.insertBitmap('play_again', 'pa', stageSize.w / 2, stageSize.h / 2, 'mc');
      this.library['play_again'].addEventListener('click', this.handlePlayAgain);
      return TweenLite.from(this.library['play_again'], 0.5, {
        alpha: 0,
        y: this.library['play_again'].y - 20
      });
    };

    Oda.prototype.handlePlayAgain = function(e) {
      this.library['play_again'].removeEventListener('click', this.handlePlayAgain);
      return TweenLite.to(this.library['play_again'], 0.5, {
        alpha: 0,
        y: this.library['play_again'].y - 20,
        onComplete: this.playAgain
      });
    };

    Oda.prototype.playAgain = function() {
      this.mainContainer.removeAllChildren();
      return this.setStage();
    };

    Oda.prototype.warning = function() {
      createjs.Sound.play('wrong');
      TweenMax.to(this.mainContainer, 0.1, {
        x: this.mainContainer.x + 10,
        repeat: 6,
        yoyo: true,
        onComplete: this.warningComplete
      });
      return this;
    };

    Oda.prototype.warningComplete = function() {
      return this.mainContainer.x = this.stage.canvas.width / 2;
    };

    Oda.prototype.resize = function() {
      var h, w;
      w = window.innerWidth;
      h = window.innerHeight;
      stageSize.r = Math.min(w / stageSize.w, h / stageSize.h);
      this.mainContainer.scaleX = stageSize.r;
      this.mainContainer.scaleY = stageSize.r;
      $('#oda').width(w);
      this.stage.canvas.width = w;
      this.stage.canvas.height = h;
      this.mainContainer.x = this.stage.canvas.width / 2;
      this.mainContainer.y = this.stage.canvas.height / 2;
      return this;
    };

    Oda.prototype.tick = function() {
      return this.stage.update();
    };

    Oda.prototype.insertInstructions = function(name, text, x, y) {
      var inst, triangle;
      inst = new createjs.Container();
      inst.name = name;
      inst.x = x;
      inst.y = y;
      triangle = new createjs.Shape();
      triangle.graphics.beginFill('#bcd748').moveTo(0, 0).lineTo(8, 5).lineTo(0, 10);
      triangle.y = 5;
      text = this.createText('insttext', text, '16px Roboto', '#000', 14, 0);
      inst.addChild(triangle, text);
      return this.addToMain(inst);
    };

    Oda.prototype.createBitmap = function(name, id, x, y, position) {
      var bmp, img;
      if (position == null) {
        position = 'tl';
      }
      img = this.preload.getResult(id);
      bmp = new createjs.Bitmap(img);
      bmp.x = x;
      bmp.y = y;
      bmp.width = img.width;
      bmp.height = img.height;
      bmp.name = name;
      switch (position) {
        case 'tc':
          this.setReg(bmp, img.width / 2, 0);
          break;
        case 'tr':
          this.setReg(bmp, img.width, 0);
          break;
        case 'ml':
          this.setReg(bmp, 0, img.height / 2);
          break;
        case 'mc':
          this.setReg(bmp, img.width / 2, img.height / 2);
          break;
        case 'mr':
          this.setReg(bmp, img.width, img.height / 2);
          break;
        case 'bl':
          this.setReg(bmp, 0, img.height);
          break;
        case 'bc':
          this.setReg(bmp, img.width / 2, img.height);
          break;
        case 'br':
          this.setReg(bmp, img.width, img.height);
          break;
        default:
          this.setReg(bmp, 0, 0);
      }
      return bmp;
    };

    Oda.prototype.insertBitmap = function(name, id, x, y, position) {
      var bmp;
      if (position == null) {
        position = 'tl';
      }
      bmp = this.createBitmap(name, id, x, y, position);
      this.addToMain(bmp);
      return bmp;
    };

    Oda.prototype.createSprite = function(name, imgs, anim, x, y, position) {
      var animation, h, img, sprite, spriteImgs, w;
      if (anim == null) {
        anim = null;
      }
      if (position == null) {
        position = 'tl';
      }
      spriteImgs = (function() {
        var _i, _len, _results;
        _results = [];
        for (_i = 0, _len = imgs.length; _i < _len; _i++) {
          img = imgs[_i];
          _results.push(this.preload.getResult(img));
        }
        return _results;
      }).call(this);
      w = spriteImgs[0].width;
      h = spriteImgs[0].height;
      sprite = new createjs.SpriteSheet({
        images: spriteImgs,
        animations: anim,
        frames: {
          width: w,
          height: h
        }
      });
      animation = new createjs.Sprite(sprite);
      animation.x = x;
      animation.y = y;
      animation.width = w;
      animation.height = h;
      animation.name = name;
      animation.currentFrame = 0;
      switch (position) {
        case 'tc':
          this.setReg(animation, animation.width / 2, 0);
          break;
        case 'tr':
          this.setReg(animation, animation.width, 0);
          break;
        case 'ml':
          this.setReg(animation, 0, animation.height / 2);
          break;
        case 'mc':
          this.setReg(animation, animation.width / 2, animation.height / 2);
          break;
        case 'mr':
          this.setReg(animation, animation.width, animation.height / 2);
          break;
        case 'bl':
          this.setReg(animation, 0, animation.height);
          break;
        case 'bc':
          this.setReg(animation, animation.width / 2, animation.height);
          break;
        case 'br':
          this.setReg(animation, animation.width, animation.height);
          break;
        default:
          this.setReg(animation, 0, 0);
      }
      return animation;
    };

    Oda.prototype.insertSprite = function(name, imgs, anim, x, y, position) {
      var animation;
      if (anim == null) {
        anim = null;
      }
      if (position == null) {
        position = 'tl';
      }
      animation = this.createSprite(name, imgs, anim, x, y, position);
      this.addToMain(animation);
      return animation;
    };

    Oda.prototype.createText = function(name, t, f, c, x, y, align) {
      var text;
      if (align == null) {
        align = 'left';
      }
      text = new createjs.Text(t, f, c);
      text.name = name;
      text.x = x;
      text.y = y;
      text.textAlign = align;
      return text;
    };

    Oda.prototype.insertText = function(name, t, f, c, x, y, align) {
      var text;
      if (align == null) {
        align = 'left';
      }
      text = this.createText(name, t, f, c, x, y, align);
      this.addToMain(text);
      return text;
    };

    Oda.prototype.addToMain = function() {
      var o, objs, _i, _len;
      objs = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      this.addToLibrary(objs);
      for (_i = 0, _len = objs.length; _i < _len; _i++) {
        o = objs[_i];
        this.mainContainer.addChild(o);
      }
      return this.mainContainer;
    };

    Oda.prototype.addToLibrary = function() {
      var o, obj, objs, _i, _j, _len, _len1;
      obj = arguments[0], objs = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      if (this.isArray(obj)) {
        for (_i = 0, _len = obj.length; _i < _len; _i++) {
          o = obj[_i];
          this.assets.push(o);
        }
      } else {
        this.assets.push(obj);
        for (_j = 0, _len1 = objs.length; _j < _len1; _j++) {
          o = objs[_j];
          this.assets.push(o);
        }
      }
      this.library = this.assets.toDictionary('name');
      return this.library;
    };

    Oda.prototype.setReg = function(obj, regX, regY) {
      obj.regX = regX;
      obj.regY = regY;
      return obj;
    };

    Oda.prototype.setPosition = function(obj, x, y) {
      obj.x = x;
      obj.y = y;
      return obj;
    };

    Oda.prototype.shuffleNoRepeat = function(a, len) {
      var copy, i, rand, shuffle, _i;
      copy = a.slice(0);
      shuffle = Array();
      for (i = _i = 1; 1 <= len ? _i <= len : _i >= len; i = 1 <= len ? ++_i : --_i) {
        rand = Math.round(Math.random() * (copy.length - 1));
        shuffle.push(copy[rand]);
        copy.splice(rand, 1);
      }
      return shuffle;
    };

    Oda.prototype.shuffle = function(a) {
      var copy, i, j, _i, _ref, _ref1;
      copy = a.slice(0);
      for (i = _i = _ref = copy.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {
        j = Math.floor(Math.random() * (i + 1));
        _ref1 = [copy[j], copy[i]], copy[i] = _ref1[0], copy[j] = _ref1[1];
      }
      return copy;
    };

    Oda.prototype.clone = function(obj) {
      var flags, key, newInstance;
      if ((obj == null) || typeof obj !== 'object') {
        return obj;
      }
      if (obj instanceof Date) {
        return new Date(obj.getTime());
      }
      if (obj instanceof RegExp) {
        flags = '';
        if (obj.global != null) {
          flags += 'g';
        }
        if (obj.ignoreCase != null) {
          flags += 'i';
        }
        if (obj.multiline != null) {
          flags += 'm';
        }
        if (obj.sticky != null) {
          flags += 'y';
        }
        return new RegExp(obj.source, flags);
      }
      newInstance = new obj.constructor();
      for (key in obj) {
        newInstance[key] = this.clone(obj[key]);
      }
      return newInstance;
    };

    Oda.prototype.isArray = function(value) {
      return Array.isArray(value || function(value) {
        return {}.toString.call(value) === '[object Array]';
      });
    };

    Oda.prototype.debuggable = function(obj) {
      var KEYCODE_DOWN, KEYCODE_ENTER, KEYCODE_LEFT, KEYCODE_RIGHT, KEYCODE_SPACE, KEYCODE_UP,
        _this = this;
      KEYCODE_ENTER = 13;
      KEYCODE_SPACE = 32;
      KEYCODE_UP = 38;
      KEYCODE_DOWN = 40;
      KEYCODE_LEFT = 37;
      KEYCODE_RIGHT = 39;
      this.debugged = obj;
      document.addEventListener('keyup', function(e) {
        switch (e.keyCode) {
          case KEYCODE_UP:
            _this.debugged.y -= 10;
            break;
          case KEYCODE_DOWN:
            _this.debugged.y += 10;
            break;
          case KEYCODE_LEFT:
            _this.debugged.x -= 10;
            break;
          case KEYCODE_RIGHT:
            _this.debugged.x += 10;
        }
        return console.log(_this.debugged.x, _this.debugged.y);
      });
      this.debugged.addEventListener('mousedown', function(e) {
        var offset, posX, posY;
        posX = e.stageX / stageSize.r;
        posY = e.stageY / stageSize.r;
        offset = {
          x: posX - _this.debugged.x,
          y: posY - _this.debugged.y
        };
        _this.debugged.x = posX - offset.x;
        _this.debugged.y = posY - offset.y;
        e.addEventListener('mousemove', function(ev) {
          posX = ev.stageX / stageSize.r;
          posY = ev.stageY / stageSize.r;
          _this.debugged.x = posX - offset.x;
          _this.debugged.y = posY - offset.y;
          return false;
        });
        e.addEventListener('mouseup', function(ev) {
          return console.log(_this.debugged);
        });
        return _this.debugged;
      });
      return this.debugged;
    };

    Oda.prototype.blink = function(obj, state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(obj);
      obj.alpha = 1;
      if (state) {
        return TweenMax.to(obj, 0.5, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    window.Oda = Oda;

    return Oda;

  })();

  Score = (function() {
    function Score(name, back, front, x, y, total, count) {
      this.initialize(name, back, front, x, y, total, count);
    }

    Score.prototype = new createjs.Container();

    Score.prototype.Container_initialize = Score.prototype.initialize;

    Score.prototype.initialize = function(name, back, front, x, y, total, count) {
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.counter = 0;
      this.bmpBack = new createjs.Bitmap(back);
      this.bmpFront = new createjs.Bitmap(front);
      this.txtTotal = new createjs.Text(total, '24px Quicksand', '#666666');
      this.txtCount = new createjs.Text(count, '24px Quicksand', '#FFFFFF');
      this.bmpBack.x = front.width / 4 * 2;
      this.bmpBack.y = front.height / 4 * 2;
      this.txtTotal.text = total;
      this.txtTotal.textAlign = 'center';
      this.txtTotal.x = this.bmpBack.x + back.width / 2;
      this.txtTotal.y = this.bmpBack.y + back.height / 2 - this.txtTotal.getMeasuredHeight() / 2;
      this.txtCount.text = count;
      this.txtCount.textAlign = 'center';
      this.txtCount.x = this.bmpFront.x + front.width / 2;
      this.txtCount.y = this.bmpFront.y + front.height / 2 - this.txtCount.getMeasuredHeight() / 2;
      this.addChild(this.bmpFront, this.txtCount, this.bmpBack, this.txtTotal);
      return false;
    };

    Score.prototype.reset = function() {
      this.counter = 0;
      return this.updateCount(this.counter);
    };

    Score.prototype.plusOne = function() {
      this.counter++;
      return this.updateCount(this.counter);
    };

    Score.prototype.updateTotal = function(txt) {
      return this.txtTotal.text = txt;
    };

    Score.prototype.updateCount = function(txt) {
      return this.txtCount.text = txt;
    };

    window.Score = Score;

    return Score;

  })();

  WordCompleter = (function() {
    function WordCompleter(name, text, label, bgcolor, stcolor, x, y, w, h) {
      if (w == null) {
        w = 100;
      }
      if (h == null) {
        h = 20;
      }
      this.initialize(name, text, label, bgcolor, stcolor, x, y, w, h);
    }

    WordCompleter.prototype = new createjs.Container();

    WordCompleter.prototype.Container_initialize = WordCompleter.prototype.initialize;

    WordCompleter.prototype.initialize = function(name, text, label, bgcolor, stcolor, x, y, w, h) {
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.label = new createjs.Text(label, '26px Quicksand', '#333');
      this.label.x = w + 10;
      this.text = new createjs.Text(text, '26px Quicksand', '#333');
      this.graphic = new createjs.Graphics().beginFill(bgcolor).drawRect(0, 0, w, h).setStrokeStyle(3).beginStroke(stcolor).moveTo(0, h).lineTo(w, h);
      this.shape = new createjs.Shape(this.graphic);
      this.text.textAlign = 'center';
      this.text.x = w / 2;
      this.addChild(this.shape, this.text, this.label);
      return false;
    };

    WordCompleter.prototype.changeLabel = function(text) {
      return this.label.text = text;
    };

    WordCompleter.prototype.changeText = function(text) {
      this.text.text = text;
      return this.text.textAlign = 'center';
    };

    WordCompleter.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.5, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    window.WordCompleter = WordCompleter;

    return WordCompleter;

  })();

  WordContainer = (function() {
    function WordContainer(name, text, bgcolor, stcolor, x, y, w, h) {
      if (w == null) {
        w = 100;
      }
      if (h == null) {
        h = 20;
      }
      this.initialize(name, text, bgcolor, stcolor, x, y, w, h);
    }

    WordContainer.prototype = new createjs.Container();

    WordContainer.prototype.Container_initialize = WordContainer.prototype.initialize;

    WordContainer.prototype.initialize = function(name, text, bgcolor, stcolor, x, y, w, h) {
      this.Container_initialize();
      this.name = name;
      this.x = x;
      this.y = y;
      this.text = new createjs.Text(text, '24px Quicksand', '#333');
      if (text !== '') {
        w = this.text.getMeasuredWidth() + 10;
      }
      this.width = w;
      this.height = h;
      this.shape = new createjs.Shape(new createjs.Graphics().beginFill(bgcolor).drawRect(0, 0, w, h).setStrokeStyle(3).beginStroke(stcolor).moveTo(0, h).lineTo(w, h));
      this.text.text = '';
      this.text.x = w / 2;
      this.text.y = h - this.text.getMeasuredHeight();
      this.addChild(this.shape, this.text);
      return false;
    };

    WordContainer.prototype.setRectShape = function(bgcolor, stcolor, thin, w, h) {
      return this.shape.graphics = new createjs.Graphics().clear().beginFill(bgcolor).setStrokeStyle(thin).beginStroke(stcolor).drawRect(0, 0, w, h);
    };

    WordContainer.prototype.changeText = function(text) {
      this.text.text = text;
      return this.text.textAlign = 'center';
    };

    WordContainer.prototype.blink = function(state) {
      if (state == null) {
        state = true;
      }
      TweenMax.killTweensOf(this);
      this.alpha = 1;
      if (state) {
        return TweenMax.to(this, 0.2, {
          alpha: .2,
          repeat: -1,
          yoyo: true
        });
      }
    };

    window.WordContainer = WordContainer;

    return WordContainer;

  })();

}).call(this);
